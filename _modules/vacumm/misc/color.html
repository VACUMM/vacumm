
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>vacumm.misc.color &#8212; VACUMM v3.6.2 documentation</title>
    <link rel="stylesheet" href="../../../_static/vacumm.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
<!--<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../../index.html"><img src="../../../static/logo_vacumm.png" border="0" alt="vacumm"/></a>
</div>-->

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Home</a>|&nbsp;</li>
        <li><a href="../../../contents.html">Docs</a>|&nbsp;</li>
        <li><a href="../../../user.faq.html">FAQ</a>|&nbsp;</li>
<!--         <li><a href="../../../search.html">chercher</a>|&nbsp;</li> -->
        <li><a href="../../../gallery.html">Gallery</a>|&nbsp;</li>
        <li><a href="https://forge.ifremer.fr/projects/vacumm">Forge</a>&nbsp; &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../vacumm.html" accesskey="U">vacumm</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo_vacumm.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for vacumm.misc.color</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf8 -*-</span>
<span class="sd">&quot;&quot;&quot;Variables and utilities about colors and color maps</span>

<span class="sd">List of all available colormaps in matplotlib, including VACUMM colormaps</span>
<span class="sd">(plotted with :func:`plot_cmaps`)</span>

<span class="sd">.. image:: misc-color-cmaps.png</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># Copyright or Â© or Copr. Actimar/IFREMER (2010-2016)</span>
<span class="c1">#</span>
<span class="c1"># This software is a computer program whose purpose is to provide</span>
<span class="c1"># utilities for handling oceanographic and atmospheric data,</span>
<span class="c1"># with the ultimate goal of validating the MARS model from IFREMER.</span>
<span class="c1">#</span>
<span class="c1"># This software is governed by the CeCILL license under French law and</span>
<span class="c1"># abiding by the rules of distribution of free software.  You can  use,</span>
<span class="c1"># modify and/ or redistribute the software under the terms of the CeCILL</span>
<span class="c1"># license as circulated by CEA, CNRS and INRIA at the following URL</span>
<span class="c1"># &quot;http://www.cecill.info&quot;.</span>
<span class="c1">#</span>
<span class="c1"># As a counterpart to the access to the source code and  rights to copy,</span>
<span class="c1"># modify and redistribute granted by the license, users are provided only</span>
<span class="c1"># with a limited warranty  and the software&#39;s author,  the holder of the</span>
<span class="c1"># economic rights,  and the successive licensors  have only  limited</span>
<span class="c1"># liability.</span>
<span class="c1">#</span>
<span class="c1"># In this respect, the user&#39;s attention is drawn to the risks associated</span>
<span class="c1"># with loading,  using,  modifying and/or developing or reproducing the</span>
<span class="c1"># software by the user in light of its specific status of free software,</span>
<span class="c1"># that may mean  that it is complicated to manipulate,  and  that  also</span>
<span class="c1"># therefore means  that it is reserved for developers  and  experienced</span>
<span class="c1"># professionals having in-depth computer knowledge. Users are therefore</span>
<span class="c1"># encouraged to load and test the software&#39;s suitability as regards their</span>
<span class="c1"># requirements in conditions enabling the security of their systems and/or</span>
<span class="c1"># data to be ensured and,  more generally, to use and operate it in the</span>
<span class="c1"># same conditions as regards security.</span>
<span class="c1">#</span>
<span class="c1"># The fact that you are presently reading this means that you have had</span>
<span class="c1"># knowledge of the CeCILL license and that you accept its terms.</span>
<span class="c1">#</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">deepcopy</span>

<span class="kn">from</span> <span class="nn">matplotlib.cm</span> <span class="k">import</span> <span class="n">ScalarMappable</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="k">import</span> <span class="p">(</span><span class="n">Colormap</span><span class="p">,</span> <span class="n">Normalize</span><span class="p">,</span> <span class="n">LinearSegmentedColormap</span><span class="p">,</span>
    <span class="n">ColorConverter</span><span class="p">,</span> <span class="n">makeMappingArray</span><span class="p">,</span> <span class="n">rgb_to_hsv</span><span class="p">,</span> <span class="n">hsv_to_rgb</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pylab</span> <span class="k">as</span> <span class="nn">P</span>
<span class="kn">from</span> <span class="nn">matplotlib.cm</span> <span class="k">import</span> <span class="n">cmap_d</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">N</span>
<span class="n">ma</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ma</span>
<span class="kn">import</span> <span class="nn">matplotlib.cbook</span> <span class="k">as</span> <span class="nn">cbook</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.basemap</span> <span class="k">import</span> <span class="n">cm</span> <span class="k">as</span> <span class="n">basemap_cm</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">cmocean.cm</span> <span class="k">as</span> <span class="nn">cmoceancm</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">cmoceancm</span> <span class="o">=</span> <span class="kc">None</span>

<span class="kn">import</span> <span class="nn">vacumm</span>
<span class="kn">from</span> <span class="nn">vacumm</span> <span class="k">import</span> <span class="n">vacumm_warn</span>

<span class="c1"># Color definitions</span>

<span class="c1">#: Land color</span>
<span class="n">bistre</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="mf">246.</span><span class="o">/</span><span class="mf">256.</span><span class="p">,</span><span class="mf">223.</span><span class="o">/</span><span class="mf">256.</span><span class="p">,</span><span class="mf">180.</span><span class="o">/</span><span class="mf">256.</span><span class="p">])</span>

<span class="c1">#: Alias for land color</span>
<span class="n">land</span> <span class="o">=</span> <span class="n">bistre</span>

<span class="c1">#: Alias for land color</span>
<span class="n">jean_pierre</span> <span class="o">=</span> <span class="n">bistre</span>

<span class="c1">#: Alias for land color</span>
<span class="n">decimaitre</span> <span class="o">=</span> <span class="n">jean_pierre</span>

<span class="c1">#: Ocean color</span>
<span class="n">ocean</span> <span class="o">=</span> <span class="p">(</span><span class="o">.</span><span class="mi">6</span><span class="p">,</span> <span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1">#: Alias for ocean color</span>
<span class="n">sea</span> <span class="o">=</span> <span class="n">ocean</span>

<span class="c1">#: Basic list of colors</span>
<span class="n">simple_colors</span> <span class="o">=</span>  <span class="p">[</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="c1">#colors = simple_colors</span>

<span class="n">_cpt_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;cpt&#39;</span><span class="p">)</span>

<span class="n">RGB</span> <span class="o">=</span> <span class="n">ColorConverter</span><span class="p">()</span><span class="o">.</span><span class="n">to_rgb</span>
<span class="n">RGBA</span> <span class="o">=</span> <span class="n">ColorConverter</span><span class="p">()</span><span class="o">.</span><span class="n">to_rgba</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cmap_custom&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_bwr&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_bwre&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_br&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_wr&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_wre&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_bathy&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_jete&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_ajete&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_jets&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_wjets&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_ajets&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_smoothed_steps&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_smoothed_regular_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_ss&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_regular_steps&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_rs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_wjet&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_pe&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_grey&#39;</span><span class="p">,</span> <span class="s1">&#39;show_cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;cmaps_mpl&#39;</span><span class="p">,</span> <span class="s1">&#39;cmaps_gmt&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_gmt&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmaps_vacumm&#39;</span><span class="p">,</span> <span class="s1">&#39;print_cmaps_gmt&#39;</span><span class="p">,</span>  <span class="s1">&#39;darken&#39;</span><span class="p">,</span> <span class="s1">&#39;whiten&#39;</span><span class="p">,</span> <span class="s1">&#39;to_shadow&#39;</span><span class="p">,</span> <span class="s1">&#39;StepsNorm&#39;</span><span class="p">,</span>
    <span class="s1">&#39;bistre&#39;</span><span class="p">,</span> <span class="s1">&#39;land&#39;</span><span class="p">,</span> <span class="s1">&#39;jean_pierre&#39;</span><span class="p">,</span> <span class="s1">&#39;decimaitre&#39;</span><span class="p">,</span> <span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="s1">&#39;RGBA&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_srs&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_rs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_linear&#39;</span><span class="p">,</span> <span class="s1">&#39;ocean&#39;</span><span class="p">,</span> <span class="s1">&#39;sea&#39;</span><span class="p">,</span> <span class="s1">&#39;plot_cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;plot_cmaps&#39;</span><span class="p">,</span> <span class="s1">&#39;get_cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;simple_colors&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_land&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_topo&#39;</span><span class="p">,</span> <span class="s1">&#39;auto_cmap_topo&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_jet&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_rainbow&#39;</span><span class="p">,</span> <span class="s1">&#39;rainbow&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_magic&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_mg&#39;</span><span class="p">,</span> <span class="s1">&#39;RangedLinearSegmentedColormap&#39;</span><span class="p">,</span><span class="s1">&#39;Scalar2RGB&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_chla&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_previmer&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_rnb2_hymex&#39;</span><span class="p">,</span><span class="s1">&#39;cmap_rainbow_sst_hymex&#39;</span><span class="p">,</span><span class="s1">&#39;cmap_dynamic_cmyk_hymex&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_white_centered_hymex&#39;</span><span class="p">,</span><span class="s1">&#39;cmap_red_tau_hymex&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_previmer2&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_ssec&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_ncview_rainbow&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_eke&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_rb&#39;</span><span class="p">,</span> <span class="s1">&#39;cmap_currents&#39;</span><span class="p">,</span> <span class="s1">&#39;cmaps_registered&#39;</span><span class="p">,</span>
    <span class="s1">&#39;cmap_br2&#39;</span><span class="p">,</span><span class="s1">&#39;cmap_nice_gfdl&#39;</span><span class="p">,</span> <span class="s1">&#39;anamorph_cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;discretise_cmap&#39;</span><span class="p">,</span> <span class="s1">&#39;to_grey&#39;</span><span class="p">,</span>
    <span class="s1">&#39;change_luminosity&#39;</span><span class="p">,</span> <span class="s1">&#39;saturate&#39;</span><span class="p">,</span> <span class="s1">&#39;desaturate&#39;</span><span class="p">,</span> <span class="s1">&#39;change_saturation&#39;</span><span class="p">,</span>
    <span class="s1">&#39;change_value&#39;</span><span class="p">,</span> <span class="s1">&#39;pastelise&#39;</span>
    <span class="p">]</span>
<span class="n">__all__</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="c1"># Color maps</span>
<span class="c1"># ----------</span>
<div class="viewcode-block" id="rainbow"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.rainbow">[docs]</a><span class="k">def</span> <span class="nf">rainbow</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">middle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stretcher</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a list of nice rainbow colors</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **n**, optional: Number of requested colors. It should be &gt; 1. Defaults to ``None``</span>
<span class="sd">        - **mode**, optional: Mode for choosing extreme colors.</span>

<span class="sd">            - ``&quot;strict&quot;``: Blue and red are first and last colors.</span>
<span class="sd">            - ``&quot;first&quot;``: ``(.5, 0, 1)`` is inserted as first color.</span>
<span class="sd">            - ``&quot;last&quot;``: ``(1, 0, .5)`` is inserted as last color.</span>
<span class="sd">            - ``&quot;auto&quot;`` or None: Switch to ``&quot;extended&quot;`` if ``n&gt;6``.</span>
<span class="sd">            - ``&quot;extended&quot;`` or anything else: Like ``&quot;first&quot;`` and ``&quot;last&quot;``.</span>
<span class="sd">        - **stretcher**, optional: Function that alter color steps</span>
<span class="sd">          from their range [0.-&gt;1.] to [0.-&gt;1.]. This must be used</span>
<span class="sd">          for example to enhance a part of the colormap.</span>
<span class="sd">          Its value may also be a predefined function:</span>

<span class="sd">            - ``&quot;reduced_green&quot;``: Shrink the green band.</span>

<span class="sd">          .. note::</span>

<span class="sd">            This function must return a monotonic array of increasing</span>
<span class="sd">            values included in the [0,1] interval.</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Special cases</span>
    <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;.5&#39;</span><span class="p">]</span>

    <span class="c1"># Base colors</span>
    <span class="n">rbcols</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)]</span>
    <span class="n">rbfirst</span> <span class="o">=</span> <span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
    <span class="n">rblast</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">rbcyclic</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>

    <span class="c1"># Mode</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span>
    <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;auto&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">&gt;</span><span class="mi">6</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;extended&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;strict&#39;</span>
    <span class="k">if</span> <span class="n">mode</span><span class="o">!=</span><span class="s1">&#39;strict&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">mode</span><span class="o">==</span><span class="s1">&#39;last&#39;</span><span class="p">:</span>
            <span class="n">rbcols</span> <span class="o">=</span><span class="n">rbcols</span><span class="o">+</span><span class="p">[</span><span class="n">rblast</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">mode</span><span class="o">==</span><span class="s1">&#39;first&#39;</span><span class="p">:</span>
            <span class="n">rbcols</span> <span class="o">=</span> <span class="p">[</span><span class="n">rbfirst</span><span class="p">]</span><span class="o">+</span><span class="n">rbcols</span>
        <span class="k">elif</span> <span class="n">mode</span><span class="o">==</span><span class="s1">&#39;cyclic&#39;</span><span class="p">:</span>
            <span class="n">rbcols</span> <span class="o">=</span> <span class="p">[</span><span class="n">rbcyclic</span><span class="p">]</span><span class="o">+</span><span class="n">rbcols</span><span class="o">+</span><span class="p">[</span><span class="n">rbcyclic</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rbcols</span> <span class="o">=</span> <span class="p">[</span><span class="n">rbfirst</span><span class="p">]</span><span class="o">+</span><span class="n">rbcols</span><span class="o">+</span><span class="p">[</span><span class="n">rblast</span><span class="p">]</span>

    <span class="c1"># Rainbow colors expanded to n colors</span>
    <span class="n">base_cmap</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">_regular_</span><span class="p">(</span><span class="n">rbcols</span><span class="p">,</span> <span class="n">steptype</span><span class="o">=</span><span class="s1">&#39;bounds&#39;</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">512</span><span class="p">)</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">stretcher</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;reduced_green&#39;</span><span class="p">]:</span>
        <span class="n">stretcher</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;_stretcher_</span><span class="si">%s</span><span class="s1">_&#39;</span><span class="o">%</span><span class="n">stretcher</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">stretcher</span><span class="p">):</span>
        <span class="n">positions</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">stretcher</span><span class="p">(</span><span class="n">positions</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">base_cmap</span><span class="p">(</span><span class="n">p</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">]</span>

    <span class="c1"># Special values</span>
    <span class="k">if</span> <span class="n">first</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">first</span>
    <span class="k">if</span> <span class="n">last</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">last</span>
    <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">colors</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">)]</span> <span class="o">=</span> <span class="n">middle</span>

    <span class="k">return</span> <span class="n">colors</span></div>

<span class="k">def</span> <span class="nf">_stretcher_reduced_green_</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">xx</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-.</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="mi">20</span>
    <span class="k">return</span> <span class="o">.</span><span class="mi">2</span><span class="o">*</span><span class="n">P</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">N</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">xx</span><span class="p">))</span><span class="o">*</span><span class="n">xx</span><span class="o">+</span><span class="n">x</span>

<span class="k">def</span> <span class="nf">_nlev_</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">n</span><span class="p">,</span>  <span class="s1">&#39;__len__&#39;</span><span class="p">):</span>
        <span class="n">lev</span> <span class="o">=</span> <span class="n">n</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lev</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">n</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">elif</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">n</span><span class="p">,</span> <span class="n">lev</span>

<div class="viewcode-block" id="cmap_rainbow"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_rainbow">[docs]</a><span class="k">def</span> <span class="nf">cmap_rainbow</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_rainbow&#39;</span><span class="p">,</span> <span class="n">smoothed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rainbow colormap</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **n**, optional: Number of colors used (keyword passed to :func:`rainbow`).</span>
<span class="sd">        - **stretcher**, **first**, **last**, **middle**, optional: See :func:`rainbow`.</span>
<span class="sd">        - **rainbow_&lt;param&gt;**, optional: ``&lt;param&gt;`` is passed to func:`rainbow`</span>
<span class="sd">        - Extra keywords are passed to :func:`cmap_rs` or :func:`cmap_srs`</span>

<span class="sd">    :Example:</span>

<span class="sd">        &gt;&gt;&gt; cmap = cmap_magic(10, first=&#39;.5&#39;, mode=&#39;last&#39;)</span>
<span class="sd">        &gt;&gt;&gt; cmap = cmap_magic([5.,6.,7,8,9], stretcher=&#39;reduced_green&#39;)</span>


<span class="sd">    :Sample: .. image:: misc-color-vacumm_rainbow.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">misc</span> <span class="k">import</span> <span class="n">kwfilter</span>
    <span class="n">kwrb</span> <span class="o">=</span> <span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;rainbow_&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">att</span> <span class="ow">in</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="s1">&#39;middle&#39;</span><span class="p">,</span> <span class="s1">&#39;stretcher&#39;</span><span class="p">:</span>
        <span class="n">kwrb</span><span class="p">[</span><span class="n">att</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">att</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">_nlev_</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">rainbow</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwrb</span><span class="p">)</span>
    <span class="k">if</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">cmap_ss</span> <span class="k">if</span> <span class="n">smoothed</span> <span class="k">else</span> <span class="n">cmap_steps</span>
        <span class="n">norm</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">norm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">norm</span> <span class="o">=</span> <span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vmax</span><span class="o">=</span><span class="n">pos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">c</span><span class="p">,</span> <span class="n">norm</span><span class="p">(</span><span class="n">p</span><span class="p">))</span> <span class="k">for</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">colors</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">cmap_srs</span> <span class="k">if</span> <span class="n">smoothed</span> <span class="k">else</span> <span class="n">cmap_rs</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>
<div class="viewcode-block" id="cmap_rb"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_rb">[docs]</a><span class="k">def</span> <span class="nf">cmap_rb</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shortcut to :func:`cmap_rainbow`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_rainbow</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_magic"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_magic">[docs]</a><span class="k">def</span> <span class="nf">cmap_magic</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stretch</span> <span class="o">=</span> <span class="mf">0.4</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">white</span><span class="o">=</span><span class="s1">&#39;.95&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_magic&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Magic rainbow colormap</span>

<span class="sd">    Based upon :func:`cmap_rainbow` with specificities:</span>

<span class="sd">        - ``n`` may be for example an array of levels.</span>
<span class="sd">        - ``smoothed`` is set to ``False`` by default.</span>
<span class="sd">        - ``stretch`` is set negative by default (``-attenuation``).</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **n**, optional: Number of colors used or</span>
<span class="sd">          object with a length (like an array of levels).</span>
<span class="sd">        - Extra keywords are passed to :func:`rainbow`</span>

<span class="sd">    :Example:</span>

<span class="sd">        &gt;&gt;&gt; ssta = MV2.arange(-2.6, 3.1, .1)</span>
<span class="sd">        &gt;&gt;&gt; cmap = cmap_magic(ssta, anomaly=True)</span>
<span class="sd">        &gt;&gt;&gt; cmap = cmap_magic(len(ssta))</span>

<span class="sd">    :Samples:</span>

<span class="sd">        - .. image:: misc-color-vacumm_magic.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_magic-n10.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_magic-anom.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_magic-pos.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_magic-neg.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#print &#39;cmap_magic n in&#39;,n</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">_nlev_</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;smoothed&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="kn">from</span> <span class="nn">misc</span> <span class="k">import</span> <span class="n">broadcast</span>
    <span class="k">for</span> <span class="n">att</span> <span class="ow">in</span> <span class="s1">&#39;positive&#39;</span><span class="p">,</span> <span class="s1">&#39;negative&#39;</span><span class="p">,</span> <span class="s1">&#39;anomaly&#39;</span><span class="p">,</span>  <span class="s1">&#39;symetric&#39;</span><span class="p">:</span> <span class="c1"># compat</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">att</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">att</span><span class="p">]:</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="n">att</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">att</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;anom&#39;</span><span class="p">):</span> <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;symetric&#39;</span>
    <span class="k">if</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;norm&#39;</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">stretch</span>
    <span class="k">elif</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;pos&#39;</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">white</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">broadcast</span><span class="p">(</span><span class="o">-</span><span class="n">stretch</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;rstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="n">stretch</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;neg&#39;</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;last&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">white</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="o">-</span><span class="n">stretch</span><span class="p">]</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;rstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="o">-</span><span class="n">stretch</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">mode</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;sym&#39;</span><span class="p">):</span>
        <span class="n">keepc</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span> <span class="c1"># odd</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">mid</span><span class="o">+</span><span class="n">broadcast</span><span class="p">(</span><span class="o">-</span><span class="n">stretch</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;rstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;middle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;.8&#39;</span>
            <span class="n">keepc</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">mid</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="o">.</span><span class="mi">98</span><span class="p">]</span><span class="o">+</span><span class="n">broadcast</span><span class="p">(</span><span class="o">-</span><span class="n">stretch</span><span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;rstretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;lstretch&#39;</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">keepc</span><span class="p">[</span><span class="n">mid</span><span class="p">:</span><span class="n">mid</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
    <span class="c1">#print &#39;cmap_magic n out&#39;,n</span>
    <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">pos</span>
    <span class="k">return</span> <span class="n">cmap_rainbow</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_mg"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_mg">[docs]</a><span class="k">def</span> <span class="nf">cmap_mg</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shortcut to :func:`cmap_magic`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_magic</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_custom"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_custom">[docs]</a><span class="k">def</span> <span class="nf">cmap_custom</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mycmap&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">ranged</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">register</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Quick colormap creation</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **colors**: Like [(color1, position1),(color2, position2), etc...] or</span>
<span class="sd">          dict(red=((pos1,r1a,r1b), (pos2,r2a,r2b)),etc...)</span>
<span class="sd">        - **ncol/N**: Discretization.</span>
<span class="sd">        - **register**: Register the colormap into matplotlib to be accessible with its name?</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ncol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="n">ncol</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">cname</span><span class="p">,</span> <span class="n">cvals</span> <span class="ow">in</span> <span class="n">colors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">cvals</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">cvals</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cvals</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">colors</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">cvals</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">cvals</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span> <span class="p">)</span> <span class="o">+</span> <span class="n">cvals</span>
            <span class="k">if</span> <span class="n">cvals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">colors</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="n">cvals</span> <span class="o">+</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">cvals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">cvals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span> <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="n">colors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
        <span class="n">tcolors</span> <span class="o">=</span> <span class="n">colors</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">red</span><span class="o">=</span><span class="p">(),</span> <span class="n">green</span><span class="o">=</span><span class="p">(),</span> <span class="n">blue</span><span class="o">=</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">tcolors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tcolors</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">tcolors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">tcolors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">tcolors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tcolors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">pos</span> <span class="ow">in</span> <span class="n">tcolors</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
            <span class="n">colors</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span> <span class="p">)</span>
            <span class="n">colors</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">),</span> <span class="p">)</span>
            <span class="n">colors</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="p">)</span>
    <span class="k">if</span> <span class="n">ranged</span><span class="p">:</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">RangedLinearSegmentedColormap</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">colors</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">LinearSegmentedColormap</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">colors</span><span class="p">,</span><span class="n">ncol</span><span class="p">)</span>
    <span class="n">P</span><span class="o">.</span><span class="n">register_cmap</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_linear"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_linear">[docs]</a><span class="k">def</span> <span class="nf">cmap_linear</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Basic linear map between colors&quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;stretch&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="c1"># blue -&gt; white -&gt; red</span>
<div class="viewcode-block" id="cmap_bwr"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_bwr">[docs]</a><span class="k">def</span> <span class="nf">cmap_bwr</span><span class="p">(</span><span class="n">wpos</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">wcol</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_bwr&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Blue-&gt;white-&gt;red colormap</span>

<span class="sd">    :Params:</span>

<span class="sd">        - *white*: relative position of white color in the map [default: 0.5]</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_bwr.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(((</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="n">wcol</span><span class="p">,</span> <span class="n">wpos</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">name</span><span class="p">)</span></div>


<span class="c1"># blue -&gt; white -&gt; red for Extremes : violet and pink and ends</span>
<div class="viewcode-block" id="cmap_bwre"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_bwre">[docs]</a><span class="k">def</span> <span class="nf">cmap_bwre</span><span class="p">(</span><span class="n">wpos</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">gap</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">wcol</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_bwre&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a violet-&gt;blue-&gt;white-&gt;red colormap-&gt;yellow</span>

<span class="sd">    - **white**, optional: relative position of white color in the map [default: 0.5]</span>
<span class="sd">    - **gap**, optional: Relative width of the pure central white gap [default: 0.1]</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_bwre.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wstart</span> <span class="o">=</span> <span class="n">wpos</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">gap</span><span class="p">)</span>
    <span class="n">wstop</span> <span class="o">=</span> <span class="n">wpos</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">wpos</span><span class="p">)</span><span class="o">*</span><span class="n">gap</span>
    <span class="k">return</span>  <span class="n">cmap_custom</span><span class="p">((((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="n">wcol</span><span class="p">,</span> <span class="n">wstart</span><span class="p">),</span>
        <span class="p">(</span><span class="n">wcol</span><span class="p">,</span> <span class="n">wstop</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="o">.</span><span class="mi">9</span><span class="p">),</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="c1"># blue -&gt; red</span>
<div class="viewcode-block" id="cmap_br"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_br">[docs]</a><span class="k">def</span> <span class="nf">cmap_br</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_br&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Blue-&gt;red colormap</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **sep**, optional: relative position of the blue/red transition in the map [default: 0.5]</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_br.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span> <span class="p">((</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">((</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span> <span class="n">sep</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_br2"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_br2">[docs]</a><span class="k">def</span> <span class="nf">cmap_br2</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">white</span><span class="o">=.</span><span class="mi">7</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_br2&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Blue-&gt;light blue|light red-&gt; red</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **sep**, optional: relative position of the blue/red transition in the map [default: 0.5]</span>
<span class="sd">        - **white**, optional: Strenght of the whitening (see :func:`whiten`).</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_br.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bsep</span> <span class="o">=</span> <span class="n">whiten</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">white</span><span class="p">)</span>
    <span class="n">rsep</span> <span class="o">=</span> <span class="n">whiten</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">white</span><span class="p">)</span>
    <span class="n">cdict</span> <span class="o">=</span>   <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span>   <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="n">sep</span><span class="p">,</span><span class="n">bsep</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">rsep</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
               <span class="s1">&#39;green&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="n">sep</span><span class="p">,</span><span class="n">bsep</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">rsep</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
               <span class="s1">&#39;blue&#39;</span><span class="p">:</span>  <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="n">sep</span><span class="p">,</span><span class="n">bsep</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">rsep</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span>
               <span class="p">}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="c1"># white -&gt; red</span>
<div class="viewcode-block" id="cmap_wr"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_wr">[docs]</a><span class="k">def</span> <span class="nf">cmap_wr</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_wr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;White-&gt;red colormap</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_wr.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(((</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="c1"># white -&gt; red</span>
<div class="viewcode-block" id="cmap_wre"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_wre">[docs]</a><span class="k">def</span> <span class="nf">cmap_wre</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_wre&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;White-&gt;red-&gt;yellow colormap for positive extremes</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_wre.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span>  <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">)),</span>
           <span class="s1">&#39;green&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">)),</span>
           <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">))}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="n">cy</span> <span class="o">=</span> <span class="mf">0.6</span> <span class="c1"># cyan</span>
<span class="n">ye</span> <span class="o">=</span> <span class="mf">0.95</span> <span class="c1"># yellow</span>
<span class="n">vi</span> <span class="o">=</span> <span class="mf">0.35</span> <span class="c1"># violet</span>
<span class="n">_colors_bathy</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">9</span><span class="p">),</span><span class="n">vi</span><span class="p">),</span> <span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="o">.</span><span class="mi">8</span><span class="p">),</span><span class="n">cy</span><span class="p">),</span> <span class="p">((</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span><span class="o">.</span><span class="mi">6</span><span class="p">),</span><span class="o">.</span><span class="mi">9</span><span class="p">),</span> <span class="p">((</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span><span class="o">.</span><span class="mi">9</span><span class="p">,</span><span class="o">.</span><span class="mi">8</span><span class="p">),</span><span class="mi">1</span><span class="p">))</span>
<div class="viewcode-block" id="cmap_bathy"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_bathy">[docs]</a><span class="k">def</span> <span class="nf">cmap_bathy</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_bathy&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap for bathymetry maps</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_bathy.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">this_cmap</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">_colors_bathy</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ranged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="n">bistre</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">bistre</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">bistre</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">this_cmap</span></div>

<span class="n">_colors_land</span> <span class="o">=</span> <span class="p">((</span><span class="n">_colors_bathy</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;#145D0A&#39;</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">),(</span><span class="s1">&#39;#62CF60&#39;</span><span class="p">,</span> <span class="o">.</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;#A1A156&#39;</span><span class="p">,</span><span class="o">.</span><span class="mi">6</span><span class="p">),(</span><span class="s1">&#39;#6D461D&#39;</span><span class="p">,</span> <span class="o">.</span><span class="mi">85</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;#eeeeff&#39;</span><span class="p">,</span> <span class="mf">1.</span><span class="p">))</span>
<div class="viewcode-block" id="cmap_land"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_land">[docs]</a><span class="k">def</span> <span class="nf">cmap_land</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_land&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap for land maps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **start/stop**, optional: Positions for a zoom in colormap.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_land.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">this_cmap</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">_colors_land</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ranged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="n">ocean</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">ocean</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">ocean</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">this_cmap</span></div>

<div class="viewcode-block" id="cmap_topo"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_topo">[docs]</a><span class="k">def</span> <span class="nf">cmap_topo</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_topo&#39;</span><span class="p">,</span> <span class="n">zero</span><span class="o">=.</span><span class="mi">5</span><span class="p">,</span> <span class="n">over</span><span class="o">=</span><span class="n">_colors_bathy</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
    <span class="n">under</span><span class="o">=</span><span class="n">_colors_land</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">bad</span><span class="o">=</span><span class="s1">&#39;0.5&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap for bathy+land maps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **start/stop**, optional: Positions for a zoom in colormap.</span>
<span class="sd">        - **zero**, optional: Position of 0-depth color.</span>
<span class="sd">        - **over**, optional: Color for values over maximal range</span>
<span class="sd">          (see :meth:`~matplotlib.colors.Colormap.set_over`).</span>
<span class="sd">        - **under**, optional: Color for values under maximal range</span>
<span class="sd">          (see :meth:`~matplotlib.colors.Colormap.set_under`).</span>
<span class="sd">        - **bad**, optional: Color for bad values</span>
<span class="sd">          (see :meth:`~matplotlib.colors.Colormap.set_bad`).</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_topo.png</span>

<span class="sd">    :See also: :func:`cmap_bathy` :func:`cmap_land`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mycolors</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">zero</span><span class="o">*</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">_colors_bathy</span><span class="p">])</span>
    <span class="n">mycolors</span> <span class="o">+=</span> <span class="nb">tuple</span><span class="p">([(</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">zero</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">zero</span><span class="p">)</span><span class="o">*</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">_colors_land</span><span class="p">[</span><span class="mi">1</span><span class="p">:]])</span>
    <span class="n">this_cmap</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">mycolors</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">ranged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_bad</span><span class="p">(</span><span class="n">bad</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">under</span><span class="p">)</span>
    <span class="n">this_cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">over</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">this_cmap</span></div>

<div class="viewcode-block" id="auto_cmap_topo"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.auto_cmap_topo">[docs]</a><span class="k">def</span> <span class="nf">auto_cmap_topo</span><span class="p">(</span><span class="n">varminmax</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="n">gzoom</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">xzoom</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Adjusted :func:`cmap_topo` colormap so that altitude 0 fall on center of full colormap by defaut</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **varminmax**: Define the min and max of topo ; it can be either :</span>

<span class="sd">            - a topo variable (array) from which min and max are computed</span>
<span class="sd">            - a tuple of (min, max) fo topo</span>

<span class="sd">        - **gzoom**, optional: Global zoom in the colormap (&gt;1.)</span>
<span class="sd">        - **xzoom**, optional: Zoom out</span>

<span class="sd">            - the land colormap if more ocean,</span>
<span class="sd">            - the ocean colormap if more land.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Data range</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">varminmax</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">topomin</span><span class="p">,</span> <span class="n">topomax</span> <span class="o">=</span> <span class="n">varminmax</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">topomin</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">varminmax</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">topomax</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">varminmax</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">topomin</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">topomin</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">topomax</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">topomax</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="c1"># More land or ocean?</span>
    <span class="n">xzoom</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">xzoom</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">topomin</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">topomax</span><span class="p">:</span>
        <span class="c1"># More land</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="o">-</span><span class="n">topomin</span><span class="o">/</span><span class="n">topomax</span>
        <span class="k">if</span> <span class="n">xzoom</span><span class="o">&lt;</span><span class="n">alpha</span><span class="p">:</span> <span class="n">xzoom</span><span class="o">=</span><span class="n">alpha</span>
        <span class="n">zero</span> <span class="o">=</span> <span class="n">xzoom</span><span class="o">/</span><span class="p">(</span><span class="mf">1.</span><span class="o">+</span><span class="n">xzoom</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">zero</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">alpha</span><span class="p">)</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="mf">1.</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># More ocean</span>
        <span class="n">alpha</span> <span class="o">=</span> <span class="o">-</span><span class="n">topomax</span><span class="o">/</span><span class="n">topomin</span>
        <span class="k">if</span> <span class="n">xzoom</span><span class="o">&lt;</span><span class="n">alpha</span><span class="p">:</span> <span class="n">xzoom</span><span class="o">=</span><span class="n">alpha</span>
        <span class="n">zero</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mf">1.</span><span class="o">+</span><span class="n">xzoom</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="n">zero</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">alpha</span><span class="p">)</span>
    <span class="c1"># Global zoom</span>
    <span class="k">if</span> <span class="n">gzoom</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span> <span class="n">gzoom</span><span class="o">=</span><span class="mf">1.</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">zero</span> <span class="o">-</span> <span class="p">(</span><span class="n">zero</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="o">/</span><span class="n">gzoom</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="n">zero</span> <span class="o">+</span> <span class="p">(</span><span class="n">stop</span><span class="o">-</span><span class="n">zero</span><span class="p">)</span><span class="o">/</span><span class="n">gzoom</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;register&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap_topo</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="s1">&#39;vacumm_auto_cmap_topo&#39;</span><span class="p">,</span> <span class="n">zero</span><span class="o">=</span><span class="n">zero</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="cmap_jete"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_jete">[docs]</a><span class="k">def</span> <span class="nf">cmap_jete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_jete&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Jet colormap with extremes</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_jete.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cdict</span> <span class="o">=</span>   <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">),(</span><span class="mf">0.22</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mf">0.6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>        <span class="p">(</span><span class="o">.</span><span class="mi">78</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span>
               <span class="s1">&#39;green&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),(</span><span class="mf">0.22</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mf">0.375</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mf">0.64</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">.</span><span class="mi">78</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
               <span class="s1">&#39;blue&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="mf">0.22</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>   <span class="p">(</span><span class="mf">0.4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mf">0.6</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>        <span class="p">(</span><span class="o">.</span><span class="mi">78</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">))}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_ajete"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_ajete">[docs]</a><span class="k">def</span> <span class="nf">cmap_ajete</span><span class="p">(</span><span class="n">w</span><span class="o">=.</span><span class="mi">02</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_ajete&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Jet colormap with white at center and extremes, for anomaly plots</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_ajete.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cdict</span> <span class="o">=</span>   <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">),(</span><span class="mf">0.21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mf">0.33</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">+</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mf">0.67</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>        <span class="p">(</span><span class="o">.</span><span class="mi">79</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span>
               <span class="s1">&#39;green&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),(</span><span class="mf">0.21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">+</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mf">0.71</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>     <span class="p">(</span><span class="o">.</span><span class="mi">79</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
               <span class="s1">&#39;blue&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="mf">0.21</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>   <span class="p">(</span><span class="mf">0.33</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">-</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="o">+</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mf">0.67</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>        <span class="p">(</span><span class="o">.</span><span class="mi">79</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>  <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">))}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_jet"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_jet">[docs]</a><span class="k">def</span> <span class="nf">cmap_jet</span><span class="p">(</span><span class="n">smoothed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_jet&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Jet colormap&quot;&quot;&quot;</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">smoothed</span><span class="p">:</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_jets"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_jets">[docs]</a><span class="k">def</span> <span class="nf">cmap_jets</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_jets&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Jet colormap with smoothed steps</span>

<span class="sd">    :Params: Passed to :func:`cmap_smoothed_regular_steps`</span>

<span class="sd">    :Samples:</span>

<span class="sd">        - .. image:: misc-color-vacumm_jets.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_jets+60.png</span>
<span class="sd">        - .. image:: misc-color-vacumm_jets-60.png</span>

<span class="sd">    :See also: :func:`cmap_smoothed_regular_steps`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_wjets"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_wjets">[docs]</a><span class="k">def</span> <span class="nf">cmap_wjets</span><span class="p">(</span><span class="n">wcol</span><span class="o">=</span><span class="s2">&quot;.95&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_wjets&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;White jet colormap with smoothed steps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **wcol**, optional: color of &quot;white&quot;</span>
<span class="sd">        - other options are passed to :func:`cmap_smoothed_regular_steps`</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_wjets.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="c1">##  colors = [(1,1,1),(0,0,1),(0,1,1),(0,1,0),(1,1,0),(1,.5,0),(1,0,0),(1,0,.75)]</span>
    <span class="n">wcol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;first_color&#39;</span><span class="p">,</span> <span class="n">wcol</span><span class="p">)</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">RGB</span><span class="p">(</span><span class="n">wcol</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">.</span><span class="mi">75</span><span class="p">)]</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">#   return cmap_linear(colors,name=&#39;cmap_wjets&#39;,**kwargs)</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_ajets"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_ajets">[docs]</a><span class="k">def</span> <span class="nf">cmap_ajets</span><span class="p">(</span><span class="n">wcol</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_ajets&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Jet colormap with smoothed steps and white at center (for anomalies)</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **wcol**, optional: color of &quot;white&quot;</span>
<span class="sd">        - other options are passed to :func:`cmap_smoothed_regular_steps`</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_ajets.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="c1">##  colors = [(.75,0,1),(0,0,1),(0,1,1),(0,1,0),(1,1,0),(1,.5,0),(1,0,0)]</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[(</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">RGB</span><span class="p">(</span><span class="n">wcol</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">_stretch_</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">stretch</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; 0 = no stretch</span>
<span class="sd">    -1 = black</span>
<span class="sd">    1 = white</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stretch</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">stretch</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">stretch</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="n">value</span>
    <span class="k">if</span> <span class="n">stretch</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">stretch</span><span class="p">)</span> <span class="o">*</span> <span class="n">value</span>
    <span class="k">return</span> <span class="n">value</span> <span class="o">+</span> <span class="n">stretch</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="cmap_smoothed_steps"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_smoothed_steps">[docs]</a><span class="k">def</span> <span class="nf">cmap_smoothed_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rstretch</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lstretch</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_css&#39;</span><span class="p">,</span>
    <span class="n">asdict</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Smoothed steps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **colors**, optional: Central positions for each colors [(col1,pos1),...]</span>

<span class="sd">   :See also:</span>

<span class="sd">        :func:`cmap_steps` :func:`cmap_regular_steps` :func:`cmap_smoothed_regular_steps`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">stretch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># compat</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stretch</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stretch</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">lstretch</span><span class="p">,</span> <span class="n">rstretch</span> <span class="o">=</span> <span class="n">stretch</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lstretch</span> <span class="o">=</span> <span class="n">stretch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="kn">from</span> <span class="nn">misc</span> <span class="k">import</span> <span class="n">broadcast</span>
    <span class="n">ns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
    <span class="n">lstretch</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="n">lstretch</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">rstretch</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="n">rstretch</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">rr</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">;</span> <span class="n">gg</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">;</span> <span class="n">bb</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">col</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">rr</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">r</span><span class="p">)]</span>
            <span class="n">gg</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">g</span><span class="p">)]</span>
            <span class="n">bb</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">b</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pcol</span><span class="p">,</span><span class="n">ppos</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">pr</span><span class="p">,</span><span class="n">pg</span><span class="p">,</span><span class="n">pb</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">pcol</span><span class="p">)</span>
            <span class="n">npos</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">+</span><span class="n">ppos</span><span class="p">)</span>
            <span class="n">rr</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">npos</span><span class="p">,</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="n">pr</span><span class="p">),</span><span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="n">pr</span><span class="p">),</span><span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
            <span class="n">gg</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">npos</span><span class="p">,</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">g</span><span class="o">+</span><span class="n">pg</span><span class="p">),</span><span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">g</span><span class="o">+</span><span class="n">pg</span><span class="p">),</span><span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
            <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">npos</span><span class="p">,</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">pb</span><span class="p">),</span><span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="n">_stretch_</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">pb</span><span class="p">),</span><span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">rr</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">r</span><span class="p">))</span>
        <span class="n">gg</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">g</span><span class="p">))</span>
        <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>

    <span class="n">cdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span><span class="n">rr</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">:</span><span class="n">gg</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">:</span><span class="n">bb</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">asdict</span><span class="p">:</span> <span class="k">return</span> <span class="n">cdict</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_ss"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_ss">[docs]</a><span class="k">def</span> <span class="nf">cmap_ss</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shortcut to :func:`cmap_smoothed_steps`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<div class="viewcode-block" id="cmap_smoothed_regular_steps"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_smoothed_regular_steps">[docs]</a><span class="k">def</span> <span class="nf">cmap_smoothed_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">steptype</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Smoothed regular steps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **colors**: [(r1,g1,b1),...]</span>
<span class="sd">        - Other keywords are passed to :func:`cmap_smoothed_steps()`</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmap_steps` :func:`cmap_smoothed_steps` :func:`cmap_regular_steps`</span>
<span class="sd">        (:func:`cmap_regular_jets` for an example)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">_regular_</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span><span class="n">steptype</span><span class="o">=</span><span class="n">steptype</span><span class="p">),</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_srs"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_srs">[docs]</a><span class="k">def</span> <span class="nf">cmap_srs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shortcut to :func:`cmap_smoothed_regular_steps`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_smoothed_regular_steps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_regular_</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">steptype</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">posmin</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">posmax</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
    <span class="n">rcolors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dpos</span> <span class="o">=</span> <span class="n">posmax</span><span class="o">-</span><span class="n">posmin</span><span class="o">*</span><span class="mf">1.</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">dpos</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">steptype</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">:</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="o">.</span><span class="mi">5</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">steptype</span> <span class="o">==</span> <span class="s1">&#39;bounds&#39;</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="n">dpos</span><span class="o">/</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">offset</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
        <span class="n">col</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">posmin</span><span class="o">+</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">offset</span><span class="p">)</span><span class="o">*</span><span class="n">step</span>
<span class="c1">#       pos = int(255*pos)/256.</span>
        <span class="n">rcolors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span><span class="n">pos</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">rcolors</span>

<div class="viewcode-block" id="cmap_steps"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_steps">[docs]</a><span class="k">def</span> <span class="nf">cmap_steps</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">stretch</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lstretch</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">rstretch</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">keepc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;cmap_steps&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap by steps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **cols**: [(col1,pos1),(col2,pos2),...]</span>
<span class="sd">        - **lstretch**, optional: Color darkening (&lt;0) or whitening at start of steps (left)</span>
<span class="sd">        - **rstretch**, optional: Same but at end of steps (right)</span>
<span class="sd">        - **keepc**, optional: If ``lstretch`` and ``rstretch`` are both different from zero,</span>
<span class="sd">          it keeps center of steps intact, else it becomes a mean</span>
<span class="sd">          of left and right.</span>
<span class="sd">        - **ncol/N**: Discretization.</span>

<span class="sd">    .See also:</span>

<span class="sd">        :func:`cmap_regular_steps` :func:`cmap_smoothed_steps` :func:`cmap_smoothed_regular_steps`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">stretch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="c1"># compat</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stretch</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">stretch</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">lstretch</span><span class="p">,</span> <span class="n">rstretch</span> <span class="o">=</span> <span class="n">stretch</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lstretch</span> <span class="o">=</span> <span class="n">stretch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="kn">from</span> <span class="nn">misc</span> <span class="k">import</span> <span class="n">broadcast</span>
    <span class="n">ns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span>
    <span class="n">lstretch</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="n">lstretch</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">rstretch</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="n">rstretch</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">keepc</span> <span class="o">=</span> <span class="n">broadcast</span><span class="p">(</span><span class="n">keepc</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
    <span class="n">rr</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">;</span> <span class="n">gg</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">;</span> <span class="n">bb</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">pcol</span><span class="p">,</span> <span class="n">ppos</span> <span class="o">=</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">pr</span><span class="p">,</span> <span class="n">pg</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">pcol</span><span class="p">)</span>
    <span class="n">pr</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pr</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pg</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pg</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">pb</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pb</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">apos</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mf">1.</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">col</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">RGB</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="mf">0.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pr</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pr</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">pg</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pg</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">pb</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">pb</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">rr</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">pr</span><span class="p">,</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
        <span class="n">gg</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">pg</span><span class="p">,</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
        <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pos</span><span class="p">,</span> <span class="n">pb</span><span class="p">,</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
        <span class="k">if</span> <span class="n">keepc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">keepc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lstretch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">rstretch</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">keepc</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">rr</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">+</span><span class="n">apos</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
            <span class="n">gg</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">+</span><span class="n">apos</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span>
            <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">+</span><span class="n">apos</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
        <span class="n">pr</span><span class="p">,</span> <span class="n">pg</span><span class="p">,</span> <span class="n">pb</span> <span class="o">=</span> <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">_stretch_</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">rstretch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">rr</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
    <span class="n">gg</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span>
    <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
    <span class="n">cdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span><span class="n">rr</span><span class="p">,</span><span class="s1">&#39;green&#39;</span><span class="p">:</span><span class="n">gg</span><span class="p">,</span><span class="s1">&#39;blue&#39;</span><span class="p">:</span><span class="n">bb</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_regular_steps"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_regular_steps">[docs]</a><span class="k">def</span> <span class="nf">cmap_regular_steps</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">steptype</span><span class="o">=</span><span class="s1">&#39;stair&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap by regular steps</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **cols**: [col1,col2,...]</span>
<span class="sd">        - **stretch**, optional: Color darkening (&lt;0) or whitening within steps [default: -.6]</span>
<span class="sd">        - **steptype**, optional: &#39;center&#39;, &#39;stair&#39; or &#39;bounds&#39; [default: &#39;center&#39;]</span>
<span class="sd">        - Other keywords are passed to :func:`cmap_steps()`</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmap_steps` :func:`cmap_smoothed_steps` :func:`cmap_smoothed_regular_steps`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_steps</span><span class="p">(</span><span class="n">_regular_</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">steptype</span><span class="o">=</span><span class="n">steptype</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_rs"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_rs">[docs]</a><span class="k">def</span> <span class="nf">cmap_rs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shortcut to :func:`cmap_regular_steps`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmap_regular_steps</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_wjet"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_wjet">[docs]</a><span class="k">def</span> <span class="nf">cmap_wjet</span><span class="p">(</span><span class="n">wcol</span><span class="o">=</span><span class="s1">&#39;.95&#39;</span><span class="p">,</span> <span class="n">smoothed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_wjet&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;jet colormap with white (or another color) at beginning</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_wjet.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wcol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;first_color&#39;</span><span class="p">,</span> <span class="n">wcol</span><span class="p">)</span>
    <span class="n">func</span> <span class="o">=</span> <span class="n">cmap_regular_steps</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">smoothed</span> <span class="k">else</span> <span class="n">cmap_smoothed_regular_steps</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">wcol</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">74</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<span class="c1">#    wcol = kwargs.get(&#39;first_color&#39;, wcol)</span>
<span class="c1">#    colors = [RGB(wcol),(0,1,1),(0,1,0),(1,1,0),(1,.5,0),(1,0,0),(1,0,.75)]</span>



<div class="viewcode-block" id="cmap_pe"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_pe">[docs]</a><span class="k">def</span> <span class="nf">cmap_pe</span><span class="p">(</span><span class="n">red</span><span class="o">=.</span><span class="mi">8</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_pe&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colomap for positive extremes (white-&gt;grey-&gt;red)</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_pe.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span>  <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="n">red</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">)),</span>
           <span class="s1">&#39;green&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="n">red</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)),</span>
           <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">1.</span><span class="p">),(</span><span class="n">red</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">,</span><span class="o">.</span><span class="mi">7</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">))}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_grey"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_grey">[docs]</a><span class="k">def</span> <span class="nf">cmap_grey</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_grey&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Grey colormap from position ``start`` to position ``end``</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_grey.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cdict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:</span>  <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="n">start</span><span class="p">,</span><span class="n">start</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="n">end</span><span class="p">,</span><span class="n">end</span><span class="p">)),</span>
           <span class="s1">&#39;green&#39;</span><span class="p">:((</span><span class="mf">0.</span><span class="p">,</span><span class="n">start</span><span class="p">,</span><span class="n">start</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="n">end</span><span class="p">,</span><span class="n">end</span><span class="p">)),</span>
           <span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.</span><span class="p">,</span><span class="n">start</span><span class="p">,</span><span class="n">start</span><span class="p">),(</span><span class="mf">1.</span><span class="p">,</span><span class="n">end</span><span class="p">,</span><span class="n">end</span><span class="p">))}</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">cdict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_chla"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_chla">[docs]</a><span class="k">def</span> <span class="nf">cmap_chla</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_chla&#39;</span><span class="p">,</span> <span class="n">smoothed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap for Chlorophyll A</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_chla.png</span>

<span class="sd">    :Source: IDL code from F. Gohin.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># From?</span>
<span class="c1">#    rgb =  [(144, 8, 240), (112, 8, 240), (80, 8, 240), (8, 8, 240), (8, 8, 224), (8, 8, 208), (8, 8, 192), (8, 8, 176), (8, 8, 152), (8, 32, 120), (8, 56, 104), (8, 80, 104), (8, 104, 112), (8, 96, 120), (8, 104, 152), (8, 120, 160), (8, 136, 160), (8, 152, 168), (8, 168, 168), (8, 184, 184), (8, 200, 200), (8, 216, 216), (8, 224, 224), (8, 232, 232), (8, 240, 240), (8, 240, 216), (8, 232, 200), (8, 232, 144), (8, 224, 112), (8, 216, 120), (8, 200, 120), (8, 184, 112), (8, 176, 80), (8, 160, 80), (8, 144, 80), (8, 128, 80), (8, 144, 56), (8, 136, 8), (56, 152, 8), (56, 168, 8), (72, 184, 8), (88, 200, 8), (112, 208, 8), (136, 216, 8), (160, 224, 8), (192, 232, 8), (232, 232, 8), (224, 224, 8), (224, 208, 8), (224, 184, 8), (224, 160, 8), (224, 136, 8), (224, 112, 8), (224, 88, 8), (224, 64, 8), (224, 40, 8), (216, 8, 8), (200, 8, 8), (176, 8, 8), (152, 8, 8), (128, 8, 8), (104, 8, 8)]</span>
<span class="c1">#    cc = [(r/255.,  g/255., b/255.) for r, g, b in rgb]</span>
<span class="c1">#    colors = _regular_(cc, steptype=&#39;bounds&#39;, posmax=220./256)</span>
<span class="c1">#    colors.append(((200./255, )*3, 1.))</span>

    <span class="c1"># From F. gohin (IDL)</span>
    <span class="n">param_red</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.45</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.48</span><span class="p">,</span>
        <span class="mf">0.43</span><span class="p">,</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.67</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span><span class="mf">0.72</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span>
        <span class="mf">0.43</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span><span class="mf">0.12</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span>
        <span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.78</span><span class="p">,</span><span class="mf">0.78</span><span class="p">,</span>
        <span class="mf">0.62</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.77</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span>
        <span class="mf">0.95</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span>
        <span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.72</span><span class="p">,</span>
        <span class="mf">0.82</span><span class="p">,</span><span class="mf">0.92</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.72</span><span class="p">,</span>
        <span class="mf">0.65</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span><span class="mf">0.57</span><span class="p">,</span><span class="mf">0.57</span><span class="p">,</span><span class="mf">0.93</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.40</span><span class="p">])</span>

    <span class="n">param_green</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span>
        <span class="mf">0.45</span><span class="p">,</span><span class="mf">0.55</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">0.95</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span>
        <span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">0.88</span><span class="p">,</span>
        <span class="mf">0.75</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span><span class="mf">0.55</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.85</span><span class="p">,</span><span class="mf">0.93</span><span class="p">,</span><span class="mf">0.78</span><span class="p">,</span><span class="mf">0.96</span><span class="p">,</span>
        <span class="mf">0.70</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.88</span><span class="p">,</span><span class="mf">0.95</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span>
        <span class="mf">0.95</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">0.95</span><span class="p">,</span><span class="mf">0.90</span><span class="p">,</span><span class="mf">0.83</span><span class="p">,</span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.58</span><span class="p">,</span>
        <span class="mf">0.50</span><span class="p">,</span><span class="mf">0.30</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.58</span><span class="p">,</span>
        <span class="mf">0.68</span><span class="p">,</span><span class="mf">0.78</span><span class="p">,</span><span class="mf">0.85</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.72</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.57</span><span class="p">,</span>
        <span class="mf">0.50</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.28</span><span class="p">,</span><span class="mf">0.17</span><span class="p">,</span><span class="mf">0.92</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.40</span><span class="p">])</span>

    <span class="n">param_blue</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.55</span><span class="p">,</span><span class="mf">0.67</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.90</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">0.77</span><span class="p">,</span><span class="mf">0.77</span><span class="p">,</span>
        <span class="mf">0.82</span><span class="p">,</span><span class="mf">0.92</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span>
        <span class="mf">0.97</span><span class="p">,</span><span class="mf">0.97</span><span class="p">,</span><span class="mf">0.90</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.48</span><span class="p">,</span><span class="mf">0.22</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span>
        <span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.57</span><span class="p">,</span><span class="mf">0.67</span><span class="p">,</span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.82</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.60</span><span class="p">,</span>
        <span class="mf">0.04</span><span class="p">,</span><span class="mf">0.16</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.52</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.40</span><span class="p">,</span><span class="mf">0.48</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span>
        <span class="mf">0.82</span><span class="p">,</span><span class="mf">0.42</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.72</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.62</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.20</span><span class="p">,</span>
        <span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span>
        <span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.75</span><span class="p">,</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span>
        <span class="mf">0.60</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.40</span><span class="p">,</span><span class="mf">0.18</span><span class="p">,</span><span class="mf">0.93</span><span class="p">,</span><span class="mf">0.80</span><span class="p">,</span><span class="mf">0.70</span><span class="p">,</span><span class="mf">0.50</span><span class="p">,</span><span class="mf">0.40</span><span class="p">])</span>

    <span class="n">indtab</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">51</span><span class="p">,</span><span class="mi">127</span><span class="p">,</span><span class="mi">124</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span>
        <span class="mi">112</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span><span class="mi">106</span><span class="p">,</span><span class="mi">94</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span>
        <span class="mi">102</span><span class="p">,</span><span class="mi">104</span><span class="p">,</span><span class="mi">92</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span>
        <span class="mi">78</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">74</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">68</span><span class="p">,</span>
        <span class="mi">067</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span> <span class="mi">47</span><span class="p">])</span>
    <span class="n">indtab</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">indtab</span> <span class="o">-</span> <span class="mi">127</span><span class="p">)</span>

    <span class="n">param_red</span> <span class="o">=</span> <span class="n">param_red</span><span class="p">[</span><span class="n">indtab</span><span class="p">]</span>
    <span class="n">param_green</span> <span class="o">=</span> <span class="n">param_green</span><span class="p">[</span><span class="n">indtab</span><span class="p">]</span>
    <span class="n">param_blue</span> <span class="o">=</span> <span class="n">param_blue</span><span class="p">[</span><span class="n">indtab</span><span class="p">]</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">param_red</span><span class="p">,</span><span class="n">param_green</span><span class="p">,</span><span class="n">param_blue</span><span class="p">)</span>

    <span class="n">func</span> <span class="o">=</span> <span class="n">cmap_regular_steps</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">smoothed</span> <span class="k">else</span> <span class="n">cmap_smoothed_regular_steps</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_previmer"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_previmer">[docs]</a><span class="k">def</span> <span class="nf">cmap_previmer</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_previmer&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap from PREVIMER Website (http://www.previmer.org)</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_previmer.png</span>

<span class="sd">    :Source: http://www.previmer.org (F. Lecornu, G. Charria)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">post</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mf">10.5</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mf">11.5</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mf">12.5</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mf">13.5</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mf">14.5</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mf">15.5</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mf">16.5</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mf">17.5</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mf">18.5</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mf">19.5</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mf">20.5</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">])</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">StepsNorm</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>

    <span class="n">r1</span><span class="o">=</span><span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">212</span><span class="p">,</span><span class="mi">191</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">213</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span><span class="mi">152</span><span class="p">])</span>
    <span class="n">r1</span> <span class="o">=</span> <span class="n">r1</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">v1</span><span class="o">=</span><span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">154</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">94</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">199</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">22</span><span class="p">])</span>
    <span class="n">v1</span> <span class="o">=</span> <span class="n">v1</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">b1</span><span class="o">=</span><span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">229</span><span class="p">,</span><span class="mi">213</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">159</span><span class="p">,</span><span class="mi">173</span><span class="p">,</span><span class="mi">119</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">82</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="n">b1</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">icolor</span> <span class="ow">in</span> <span class="n">N</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r1</span><span class="p">)):</span>
      <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">r1</span><span class="p">[</span><span class="n">icolor</span><span class="p">],</span><span class="n">v1</span><span class="p">[</span><span class="n">icolor</span><span class="p">],</span><span class="n">b1</span><span class="p">[</span><span class="n">icolor</span><span class="p">]),</span><span class="n">norm</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="n">icolor</span><span class="p">]))</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;ncol&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">colors</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_previmer2"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_previmer2">[docs]</a><span class="k">def</span> <span class="nf">cmap_previmer2</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_previmer2&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Colormap from PREVIMER Website (http://www.previmer.org)</span>

<span class="sd">    Same as :func:`cmap_previmer` but extremes are used for</span>
<span class="sd">    :meth:`set_under` and :meth`set_over`.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_previmer.png</span>

<span class="sd">    :Source: http://www.previmer.org (F. Lecornu, G. Charria)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">212</span><span class="p">,</span><span class="mi">191</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">213</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span><span class="mf">152.</span><span class="p">])</span>
    <span class="n">r</span> <span class="o">/=</span> <span class="mf">255.</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">154</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">94</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">199</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mf">22.</span><span class="p">])</span>
    <span class="n">g</span> <span class="o">/=</span> <span class="mf">255.</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">229</span><span class="p">,</span><span class="mi">213</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">159</span><span class="p">,</span><span class="mi">173</span><span class="p">,</span><span class="mi">119</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">82</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">4.</span><span class="p">])</span>
    <span class="n">b</span> <span class="o">/=</span> <span class="mf">255.</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>


<div class="viewcode-block" id="cmap_ssec"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_ssec">[docs]</a><span class="k">def</span> <span class="nf">cmap_ssec</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_ssec&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Colormap from Ncview (http://fossies.org/dox/ncview-2.1.2/colormaps__ssec_8h_source.html)</span>


<span class="sd">    :Source: http://fossies.org/dox/ncview-2.1.2/colormaps__ssec_8h_source.html (ncview-2.1.2, G. Charria)</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">d</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">59</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">68</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">74</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">38</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">82</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span><span class="mi">86</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">58</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">59</span><span class="p">,</span><span class="mi">92</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">93</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">62</span><span class="p">,</span><span class="mi">94</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span><span class="mi">96</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">68</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">74</span><span class="p">,</span><span class="mi">104</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">106</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">91</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">92</span><span class="p">,</span><span class="mi">119</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">93</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">96</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">124</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span><span class="mi">127</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">104</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">112</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">137</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">118</span><span class="p">,</span><span class="mi">140</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span><span class="mi">142</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">143</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">124</span><span class="p">,</span><span class="mi">144</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">148</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span><span class="mi">151</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span><span class="mi">152</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">134</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">137</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">138</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">140</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">142</span><span class="p">,</span><span class="mi">159</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">144</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">161</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">146</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">148</span><span class="p">,</span><span class="mi">164</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">149</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">151</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span><span class="mi">171</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">159</span><span class="p">,</span><span class="mi">173</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">161</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">163</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">171</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">173</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">175</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">178</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">179</span><span class="p">,</span><span class="mi">189</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span><span class="mi">191</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">193</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">194</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span><span class="mi">195</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">197</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">191</span><span class="p">,</span><span class="mi">199</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">192</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">194</span><span class="p">,</span><span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">195</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">196</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span><span class="mi">204</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">199</span><span class="p">,</span><span class="mi">205</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">203</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">204</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">211</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">212</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span><span class="mi">214</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">211</span><span class="p">,</span><span class="mi">215</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">212</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">214</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">215</span><span class="p">,</span><span class="mi">218</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">219</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">218</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">219</span><span class="p">,</span><span class="mi">221</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span><span class="mi">224</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">224</span><span class="p">,</span><span class="mi">225</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">225</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">227</span><span class="p">,</span><span class="mi">227</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span><span class="mi">230</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span>
    <span class="mi">17</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">214</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span><span class="mi">182</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span><span class="mi">236</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span><span class="mi">236</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span>
    <span class="mi">87</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span><span class="mi">239</span><span class="p">,</span><span class="mi">143</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">135</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">127</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">119</span><span class="p">,</span> <span class="mi">131</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span> <span class="mi">149</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span><span class="mi">95</span><span class="p">,</span>
    <span class="mi">157</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">87</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">63</span><span class="p">,</span> <span class="mi">193</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">39</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span>
    <span class="mi">228</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span> <span class="mi">237</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span> <span class="mi">245</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span><span class="mi">254</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">236</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">255</span><span class="p">,</span><span class="mi">231</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">221</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">212</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">207</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">255</span><span class="p">,</span><span class="mi">193</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">179</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">169</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">164</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">160</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">255</span><span class="p">,</span><span class="mi">155</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">131</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">126</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span><span class="mi">122</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">253</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">249</span><span class="p">,</span><span class="mi">113</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">246</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">239</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">236</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span><span class="mi">93</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">229</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">225</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">222</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">215</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">205</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span><span class="mi">57</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
    <span class="mi">198</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">195</span><span class="p">,</span><span class="mi">49</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">188</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">185</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">181</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">178</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">175</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_ncview_rainbow"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_ncview_rainbow">[docs]</a><span class="k">def</span> <span class="nf">cmap_ncview_rainbow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_ncview_rainbow&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Colormap Rainbow from Ncview (http://fossies.org/dox/ncview-2.1.2/colormaps__rainbow_8h_source.html)</span>


<span class="sd">    :Source: http://fossies.org/dox/ncview-2.1.2/colormaps__rainbow_8h_source.html (ncview-2.1.2, G. Charria)</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">d</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">38</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>  <span class="mi">38</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span>  <span class="mi">38</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span>
         <span class="mi">38</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span>  <span class="mi">39</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span>  <span class="mi">39</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span>  <span class="mi">39</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span>  <span class="mi">40</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span>  <span class="mi">41</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span>
         <span class="mi">41</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span>  <span class="mi">42</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span>  <span class="mi">43</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span>  <span class="mi">44</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span>  <span class="mi">45</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span>  <span class="mi">46</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span>
         <span class="mi">47</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span>  <span class="mi">48</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span>  <span class="mi">50</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span>  <span class="mi">51</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span>  <span class="mi">53</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span>
         <span class="mi">54</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">83</span><span class="p">,</span>  <span class="mi">56</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span>  <span class="mi">58</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span>  <span class="mi">59</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span>
         <span class="mi">61</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">103</span><span class="p">,</span>  <span class="mi">62</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">106</span><span class="p">,</span>  <span class="mi">63</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span>  <span class="mi">64</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span>  <span class="mi">65</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span>  <span class="mi">65</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span>
         <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">125</span><span class="p">,</span>  <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">129</span><span class="p">,</span>  <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">133</span><span class="p">,</span>  <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">137</span><span class="p">,</span>  <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span>  <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">145</span><span class="p">,</span>
         <span class="mi">65</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span>  <span class="mi">65</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span>  <span class="mi">64</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">158</span><span class="p">,</span>  <span class="mi">63</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">162</span><span class="p">,</span>  <span class="mi">62</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">166</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span>
         <span class="mi">59</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">174</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">179</span><span class="p">,</span>  <span class="mi">55</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">183</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span>  <span class="mi">50</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">191</span><span class="p">,</span>  <span class="mi">47</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">195</span><span class="p">,</span>
         <span class="mi">44</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span>  <span class="mi">41</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span>  <span class="mi">38</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span>  <span class="mi">34</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span>  <span class="mi">30</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">213</span><span class="p">,</span>  <span class="mi">26</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span>
         <span class="mi">21</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span>  <span class="mi">17</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">223</span><span class="p">,</span>  <span class="mi">12</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span>   <span class="mi">7</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span><span class="mi">242</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">143</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span><span class="mi">252</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">194</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span><span class="mi">251</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">225</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">227</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">219</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span><span class="mi">193</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span><span class="mi">167</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span><span class="mi">159</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">141</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span><span class="mi">132</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span><span class="mi">123</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">212</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">163</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span><span class="mi">153</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
         <span class="mi">7</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">13</span><span class="p">,</span><span class="mi">163</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">27</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">35</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">43</span><span class="p">,</span><span class="mi">198</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
        <span class="mi">52</span><span class="p">,</span><span class="mi">206</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">61</span><span class="p">,</span><span class="mi">212</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">69</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">78</span><span class="p">,</span><span class="mi">222</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">87</span><span class="p">,</span><span class="mi">226</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span><span class="mi">229</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">105</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span><span class="mi">235</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span><span class="mi">237</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span><span class="mi">238</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span><span class="mi">241</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">159</span><span class="p">,</span><span class="mi">243</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">167</span><span class="p">,</span><span class="mi">244</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">176</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">185</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">193</span><span class="p">,</span><span class="mi">246</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">210</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">219</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">227</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">235</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">244</span><span class="p">,</span><span class="mi">249</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span><span class="mi">247</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">250</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span><span class="mi">232</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span><span class="mi">225</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span><span class="mi">217</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span><span class="mi">210</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span><span class="mi">202</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">251</span><span class="p">,</span><span class="mi">194</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">180</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">172</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">165</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">252</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">143</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">252</span><span class="p">,</span><span class="mi">136</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">253</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span> <span class="mi">93</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">253</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">252</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">249</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">247</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">246</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>
       <span class="mi">244</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">237</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">235</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>
       <span class="mi">229</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">226</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">223</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">217</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span>
       <span class="mi">210</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">198</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">195</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">191</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>
       <span class="mi">187</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">183</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">179</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">174</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span>
       <span class="mi">162</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">145</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span>
       <span class="mi">137</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">133</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">129</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span>
       <span class="mi">114</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span>  <span class="mi">99</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span>  <span class="mi">96</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span>
        <span class="mi">92</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span>  <span class="mi">89</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span>  <span class="mi">86</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span>  <span class="mi">83</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span>  <span class="mi">80</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span>  <span class="mi">77</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span>
        <span class="mi">75</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span>  <span class="mi">72</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>  <span class="mi">70</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span>  <span class="mi">67</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span>  <span class="mi">65</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span>  <span class="mi">63</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span>
        <span class="mi">61</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span>  <span class="mi">60</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span>  <span class="mi">58</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span>  <span class="mi">55</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span>  <span class="mi">54</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span>
        <span class="mi">53</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span>  <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span>  <span class="mi">51</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span>  <span class="mi">51</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span>  <span class="mi">51</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">38</span><span class="p">])</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="mf">255.</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_nice_gfdl"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_nice_gfdl">[docs]</a><span class="k">def</span> <span class="nf">cmap_nice_gfdl</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_nice_gfdl&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; GFDL colormap (http://www.gfdl.noaa.gov/visualization)</span>


<span class="sd">    :Source: http://www.ncl.ucar.edu/Document/Graphics/ColorTables/nice_gfdl.shtml (included by G. Charria)</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">d</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.996078</span><span class="p">,</span> <span class="mf">0.984314</span><span class="p">,</span> <span class="mf">0.964706</span><span class="p">,</span>
    <span class="mf">0.925490</span><span class="p">,</span> <span class="mf">0.929412</span><span class="p">,</span> <span class="mf">0.945098</span><span class="p">,</span>
    <span class="mf">0.905882</span><span class="p">,</span> <span class="mf">0.909804</span><span class="p">,</span> <span class="mf">0.925490</span><span class="p">,</span>
    <span class="mf">0.862745</span><span class="p">,</span> <span class="mf">0.882353</span><span class="p">,</span> <span class="mf">0.901961</span><span class="p">,</span>
    <span class="mf">0.835294</span><span class="p">,</span> <span class="mf">0.854902</span><span class="p">,</span> <span class="mf">0.874510</span><span class="p">,</span>
    <span class="mf">0.811765</span><span class="p">,</span> <span class="mf">0.823529</span><span class="p">,</span> <span class="mf">0.858824</span><span class="p">,</span>
    <span class="mf">0.784314</span><span class="p">,</span> <span class="mf">0.796078</span><span class="p">,</span> <span class="mf">0.831373</span><span class="p">,</span>
    <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.772549</span><span class="p">,</span> <span class="mf">0.811765</span><span class="p">,</span>
    <span class="mf">0.729412</span><span class="p">,</span> <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.788235</span><span class="p">,</span>
    <span class="mf">0.694118</span><span class="p">,</span> <span class="mf">0.717647</span><span class="p">,</span> <span class="mf">0.768627</span><span class="p">,</span>
    <span class="mf">0.670588</span><span class="p">,</span> <span class="mf">0.690196</span><span class="p">,</span> <span class="mf">0.741176</span><span class="p">,</span>
    <span class="mf">0.639216</span><span class="p">,</span> <span class="mf">0.666667</span><span class="p">,</span> <span class="mf">0.725490</span><span class="p">,</span>
    <span class="mf">0.611765</span><span class="p">,</span> <span class="mf">0.639216</span><span class="p">,</span> <span class="mf">0.698039</span><span class="p">,</span>
    <span class="mf">0.580392</span><span class="p">,</span> <span class="mf">0.607843</span><span class="p">,</span> <span class="mf">0.666667</span><span class="p">,</span>
    <span class="mf">0.560784</span><span class="p">,</span> <span class="mf">0.588235</span><span class="p">,</span> <span class="mf">0.647059</span><span class="p">,</span>
    <span class="mf">0.517647</span><span class="p">,</span> <span class="mf">0.560784</span><span class="p">,</span> <span class="mf">0.623529</span><span class="p">,</span>
    <span class="mf">0.490196</span><span class="p">,</span> <span class="mf">0.537255</span><span class="p">,</span> <span class="mf">0.596078</span><span class="p">,</span>
    <span class="mf">0.462745</span><span class="p">,</span> <span class="mf">0.517647</span><span class="p">,</span> <span class="mf">0.576471</span><span class="p">,</span>
    <span class="mf">0.435294</span><span class="p">,</span> <span class="mf">0.490196</span><span class="p">,</span> <span class="mf">0.545098</span><span class="p">,</span>
    <span class="mf">0.400000</span><span class="p">,</span> <span class="mf">0.447059</span><span class="p">,</span> <span class="mf">0.525490</span><span class="p">,</span>
    <span class="mf">0.384314</span><span class="p">,</span> <span class="mf">0.431373</span><span class="p">,</span> <span class="mf">0.509804</span><span class="p">,</span>
    <span class="mf">0.352941</span><span class="p">,</span> <span class="mf">0.407843</span><span class="p">,</span> <span class="mf">0.486275</span><span class="p">,</span>
    <span class="mf">0.325490</span><span class="p">,</span> <span class="mf">0.380392</span><span class="p">,</span> <span class="mf">0.458824</span><span class="p">,</span>
    <span class="mf">0.294118</span><span class="p">,</span> <span class="mf">0.356863</span><span class="p">,</span> <span class="mf">0.443137</span><span class="p">,</span>
    <span class="mf">0.270588</span><span class="p">,</span> <span class="mf">0.329412</span><span class="p">,</span> <span class="mf">0.415686</span><span class="p">,</span>
    <span class="mf">0.247059</span><span class="p">,</span> <span class="mf">0.301961</span><span class="p">,</span> <span class="mf">0.396078</span><span class="p">,</span>
    <span class="mf">0.223529</span><span class="p">,</span> <span class="mf">0.282353</span><span class="p">,</span> <span class="mf">0.372549</span><span class="p">,</span>
    <span class="mf">0.196078</span><span class="p">,</span> <span class="mf">0.254902</span><span class="p">,</span> <span class="mf">0.360784</span><span class="p">,</span>
    <span class="mf">0.168627</span><span class="p">,</span> <span class="mf">0.223529</span><span class="p">,</span> <span class="mf">0.325490</span><span class="p">,</span>
    <span class="mf">0.133333</span><span class="p">,</span> <span class="mf">0.203922</span><span class="p">,</span> <span class="mf">0.301961</span><span class="p">,</span>
    <span class="mf">0.113725</span><span class="p">,</span> <span class="mf">0.180392</span><span class="p">,</span> <span class="mf">0.274510</span><span class="p">,</span>
    <span class="mf">0.094118</span><span class="p">,</span> <span class="mf">0.149020</span><span class="p">,</span> <span class="mf">0.250980</span><span class="p">,</span>
    <span class="mf">0.074510</span><span class="p">,</span> <span class="mf">0.125490</span><span class="p">,</span> <span class="mf">0.227451</span><span class="p">,</span>
    <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.109804</span><span class="p">,</span> <span class="mf">0.203922</span><span class="p">,</span>
    <span class="mf">0.047059</span><span class="p">,</span> <span class="mf">0.105882</span><span class="p">,</span> <span class="mf">0.196078</span><span class="p">,</span>
    <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span> <span class="mf">0.203922</span><span class="p">,</span>
    <span class="mf">0.062745</span><span class="p">,</span> <span class="mf">0.129412</span><span class="p">,</span> <span class="mf">0.219608</span><span class="p">,</span>
    <span class="mf">0.074510</span><span class="p">,</span> <span class="mf">0.141176</span><span class="p">,</span> <span class="mf">0.235294</span><span class="p">,</span>
    <span class="mf">0.086275</span><span class="p">,</span> <span class="mf">0.156863</span><span class="p">,</span> <span class="mf">0.254902</span><span class="p">,</span>
    <span class="mf">0.094118</span><span class="p">,</span> <span class="mf">0.176471</span><span class="p">,</span> <span class="mf">0.258824</span><span class="p">,</span>
    <span class="mf">0.105882</span><span class="p">,</span> <span class="mf">0.188235</span><span class="p">,</span> <span class="mf">0.274510</span><span class="p">,</span>
    <span class="mf">0.121569</span><span class="p">,</span> <span class="mf">0.207843</span><span class="p">,</span> <span class="mf">0.298039</span><span class="p">,</span>
    <span class="mf">0.133333</span><span class="p">,</span> <span class="mf">0.219608</span><span class="p">,</span> <span class="mf">0.309804</span><span class="p">,</span>
    <span class="mf">0.137255</span><span class="p">,</span> <span class="mf">0.243137</span><span class="p">,</span> <span class="mf">0.325490</span><span class="p">,</span>
    <span class="mf">0.145098</span><span class="p">,</span> <span class="mf">0.254902</span><span class="p">,</span> <span class="mf">0.337255</span><span class="p">,</span>
    <span class="mf">0.160784</span><span class="p">,</span> <span class="mf">0.270588</span><span class="p">,</span> <span class="mf">0.356863</span><span class="p">,</span>
    <span class="mf">0.176471</span><span class="p">,</span> <span class="mf">0.286275</span><span class="p">,</span> <span class="mf">0.372549</span><span class="p">,</span>
    <span class="mf">0.180392</span><span class="p">,</span> <span class="mf">0.301961</span><span class="p">,</span> <span class="mf">0.380392</span><span class="p">,</span>
    <span class="mf">0.196078</span><span class="p">,</span> <span class="mf">0.313725</span><span class="p">,</span> <span class="mf">0.396078</span><span class="p">,</span>
    <span class="mf">0.203922</span><span class="p">,</span> <span class="mf">0.325490</span><span class="p">,</span> <span class="mf">0.407843</span><span class="p">,</span>
    <span class="mf">0.219608</span><span class="p">,</span> <span class="mf">0.341176</span><span class="p">,</span> <span class="mf">0.423529</span><span class="p">,</span>
    <span class="mf">0.223529</span><span class="p">,</span> <span class="mf">0.360784</span><span class="p">,</span> <span class="mf">0.427451</span><span class="p">,</span>
    <span class="mf">0.247059</span><span class="p">,</span> <span class="mf">0.384314</span><span class="p">,</span> <span class="mf">0.450980</span><span class="p">,</span>
    <span class="mf">0.247059</span><span class="p">,</span> <span class="mf">0.396078</span><span class="p">,</span> <span class="mf">0.458824</span><span class="p">,</span>
    <span class="mf">0.262745</span><span class="p">,</span> <span class="mf">0.415686</span><span class="p">,</span> <span class="mf">0.478431</span><span class="p">,</span>
    <span class="mf">0.282353</span><span class="p">,</span> <span class="mf">0.439216</span><span class="p">,</span> <span class="mf">0.490196</span><span class="p">,</span>
    <span class="mf">0.290196</span><span class="p">,</span> <span class="mf">0.447059</span><span class="p">,</span> <span class="mf">0.498039</span><span class="p">,</span>
    <span class="mf">0.298039</span><span class="p">,</span> <span class="mf">0.462745</span><span class="p">,</span> <span class="mf">0.513725</span><span class="p">,</span>
    <span class="mf">0.309804</span><span class="p">,</span> <span class="mf">0.478431</span><span class="p">,</span> <span class="mf">0.529412</span><span class="p">,</span>
    <span class="mf">0.313725</span><span class="p">,</span> <span class="mf">0.501961</span><span class="p">,</span> <span class="mf">0.533333</span><span class="p">,</span>
    <span class="mf">0.329412</span><span class="p">,</span> <span class="mf">0.517647</span><span class="p">,</span> <span class="mf">0.549020</span><span class="p">,</span>
    <span class="mf">0.333333</span><span class="p">,</span> <span class="mf">0.529412</span><span class="p">,</span> <span class="mf">0.560784</span><span class="p">,</span>
    <span class="mf">0.349020</span><span class="p">,</span> <span class="mf">0.549020</span><span class="p">,</span> <span class="mf">0.580392</span><span class="p">,</span>
    <span class="mf">0.356863</span><span class="p">,</span> <span class="mf">0.564706</span><span class="p">,</span> <span class="mf">0.592157</span><span class="p">,</span>
    <span class="mf">0.372549</span><span class="p">,</span> <span class="mf">0.580392</span><span class="p">,</span> <span class="mf">0.607843</span><span class="p">,</span>
    <span class="mf">0.392157</span><span class="p">,</span> <span class="mf">0.603922</span><span class="p">,</span> <span class="mf">0.631373</span><span class="p">,</span>
    <span class="mf">0.403922</span><span class="p">,</span> <span class="mf">0.615686</span><span class="p">,</span> <span class="mf">0.643137</span><span class="p">,</span>
    <span class="mf">0.403922</span><span class="p">,</span> <span class="mf">0.631373</span><span class="p">,</span> <span class="mf">0.643137</span><span class="p">,</span>
    <span class="mf">0.423529</span><span class="p">,</span> <span class="mf">0.654902</span><span class="p">,</span> <span class="mf">0.666667</span><span class="p">,</span>
    <span class="mf">0.431373</span><span class="p">,</span> <span class="mf">0.662745</span><span class="p">,</span> <span class="mf">0.674510</span><span class="p">,</span>
    <span class="mf">0.447059</span><span class="p">,</span> <span class="mf">0.678431</span><span class="p">,</span> <span class="mf">0.694118</span><span class="p">,</span>
    <span class="mf">0.454902</span><span class="p">,</span> <span class="mf">0.698039</span><span class="p">,</span> <span class="mf">0.705882</span><span class="p">,</span>
    <span class="mf">0.474510</span><span class="p">,</span> <span class="mf">0.717647</span><span class="p">,</span> <span class="mf">0.725490</span><span class="p">,</span>
    <span class="mf">0.482353</span><span class="p">,</span> <span class="mf">0.725490</span><span class="p">,</span> <span class="mf">0.733333</span><span class="p">,</span>
    <span class="mf">0.501961</span><span class="p">,</span> <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.756863</span><span class="p">,</span>
    <span class="mf">0.505882</span><span class="p">,</span> <span class="mf">0.772549</span><span class="p">,</span> <span class="mf">0.752941</span><span class="p">,</span>
    <span class="mf">0.517647</span><span class="p">,</span> <span class="mf">0.788235</span><span class="p">,</span> <span class="mf">0.764706</span><span class="p">,</span>
    <span class="mf">0.525490</span><span class="p">,</span> <span class="mf">0.807843</span><span class="p">,</span> <span class="mf">0.784314</span><span class="p">,</span>
    <span class="mf">0.541176</span><span class="p">,</span> <span class="mf">0.819608</span><span class="p">,</span> <span class="mf">0.800000</span><span class="p">,</span>
    <span class="mf">0.549020</span><span class="p">,</span> <span class="mf">0.839216</span><span class="p">,</span> <span class="mf">0.811765</span><span class="p">,</span>
    <span class="mf">0.564706</span><span class="p">,</span> <span class="mf">0.858824</span><span class="p">,</span> <span class="mf">0.831373</span><span class="p">,</span>
    <span class="mf">0.580392</span><span class="p">,</span> <span class="mf">0.874510</span><span class="p">,</span> <span class="mf">0.847059</span><span class="p">,</span>
    <span class="mf">0.596078</span><span class="p">,</span> <span class="mf">0.894118</span><span class="p">,</span> <span class="mf">0.862745</span><span class="p">,</span>
    <span class="mf">0.596078</span><span class="p">,</span> <span class="mf">0.905882</span><span class="p">,</span> <span class="mf">0.862745</span><span class="p">,</span>
    <span class="mf">0.596078</span><span class="p">,</span> <span class="mf">0.905882</span><span class="p">,</span> <span class="mf">0.862745</span><span class="p">,</span>
    <span class="mf">0.576471</span><span class="p">,</span> <span class="mf">0.890196</span><span class="p">,</span> <span class="mf">0.819608</span><span class="p">,</span>
    <span class="mf">0.564706</span><span class="p">,</span> <span class="mf">0.878431</span><span class="p">,</span> <span class="mf">0.811765</span><span class="p">,</span>
    <span class="mf">0.549020</span><span class="p">,</span> <span class="mf">0.866667</span><span class="p">,</span> <span class="mf">0.760784</span><span class="p">,</span>
    <span class="mf">0.541176</span><span class="p">,</span> <span class="mf">0.858824</span><span class="p">,</span> <span class="mf">0.752941</span><span class="p">,</span>
    <span class="mf">0.529412</span><span class="p">,</span> <span class="mf">0.847059</span><span class="p">,</span> <span class="mf">0.729412</span><span class="p">,</span>
    <span class="mf">0.517647</span><span class="p">,</span> <span class="mf">0.835294</span><span class="p">,</span> <span class="mf">0.713725</span><span class="p">,</span>
    <span class="mf">0.498039</span><span class="p">,</span> <span class="mf">0.827451</span><span class="p">,</span> <span class="mf">0.662745</span><span class="p">,</span>
    <span class="mf">0.478431</span><span class="p">,</span> <span class="mf">0.807843</span><span class="p">,</span> <span class="mf">0.643137</span><span class="p">,</span>
    <span class="mf">0.470588</span><span class="p">,</span> <span class="mf">0.803922</span><span class="p">,</span> <span class="mf">0.607843</span><span class="p">,</span>
    <span class="mf">0.454902</span><span class="p">,</span> <span class="mf">0.784314</span><span class="p">,</span> <span class="mf">0.588235</span><span class="p">,</span>
    <span class="mf">0.443137</span><span class="p">,</span> <span class="mf">0.776471</span><span class="p">,</span> <span class="mf">0.556863</span><span class="p">,</span>
    <span class="mf">0.431373</span><span class="p">,</span> <span class="mf">0.764706</span><span class="p">,</span> <span class="mf">0.545098</span><span class="p">,</span>
    <span class="mf">0.415686</span><span class="p">,</span> <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.501961</span><span class="p">,</span>
    <span class="mf">0.407843</span><span class="p">,</span> <span class="mf">0.741176</span><span class="p">,</span> <span class="mf">0.494118</span><span class="p">,</span>
    <span class="mf">0.392157</span><span class="p">,</span> <span class="mf">0.729412</span><span class="p">,</span> <span class="mf">0.458824</span><span class="p">,</span>
    <span class="mf">0.380392</span><span class="p">,</span> <span class="mf">0.713725</span><span class="p">,</span> <span class="mf">0.447059</span><span class="p">,</span>
    <span class="mf">0.368627</span><span class="p">,</span> <span class="mf">0.701961</span><span class="p">,</span> <span class="mf">0.415686</span><span class="p">,</span>
    <span class="mf">0.352941</span><span class="p">,</span> <span class="mf">0.682353</span><span class="p">,</span> <span class="mf">0.400000</span><span class="p">,</span>
    <span class="mf">0.345098</span><span class="p">,</span> <span class="mf">0.678431</span><span class="p">,</span> <span class="mf">0.360784</span><span class="p">,</span>
    <span class="mf">0.329412</span><span class="p">,</span> <span class="mf">0.662745</span><span class="p">,</span> <span class="mf">0.345098</span><span class="p">,</span>
    <span class="mf">0.317647</span><span class="p">,</span> <span class="mf">0.647059</span><span class="p">,</span> <span class="mf">0.325490</span><span class="p">,</span>
    <span class="mf">0.305882</span><span class="p">,</span> <span class="mf">0.635294</span><span class="p">,</span> <span class="mf">0.313725</span><span class="p">,</span>
    <span class="mf">0.282353</span><span class="p">,</span> <span class="mf">0.623529</span><span class="p">,</span> <span class="mf">0.270588</span><span class="p">,</span>
    <span class="mf">0.274510</span><span class="p">,</span> <span class="mf">0.615686</span><span class="p">,</span> <span class="mf">0.262745</span><span class="p">,</span>
    <span class="mf">0.262745</span><span class="p">,</span> <span class="mf">0.592157</span><span class="p">,</span> <span class="mf">0.223529</span><span class="p">,</span>
    <span class="mf">0.258824</span><span class="p">,</span> <span class="mf">0.584314</span><span class="p">,</span> <span class="mf">0.215686</span><span class="p">,</span>
    <span class="mf">0.247059</span><span class="p">,</span> <span class="mf">0.576471</span><span class="p">,</span> <span class="mf">0.180392</span><span class="p">,</span>
    <span class="mf">0.243137</span><span class="p">,</span> <span class="mf">0.572549</span><span class="p">,</span> <span class="mf">0.176471</span><span class="p">,</span>
    <span class="mf">0.270588</span><span class="p">,</span> <span class="mf">0.584314</span><span class="p">,</span> <span class="mf">0.149020</span><span class="p">,</span>
    <span class="mf">0.282353</span><span class="p">,</span> <span class="mf">0.600000</span><span class="p">,</span> <span class="mf">0.160784</span><span class="p">,</span>
    <span class="mf">0.313725</span><span class="p">,</span> <span class="mf">0.619608</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span>
    <span class="mf">0.329412</span><span class="p">,</span> <span class="mf">0.639216</span><span class="p">,</span> <span class="mf">0.129412</span><span class="p">,</span>
    <span class="mf">0.372549</span><span class="p">,</span> <span class="mf">0.654902</span><span class="p">,</span> <span class="mf">0.098039</span><span class="p">,</span>
    <span class="mf">0.384314</span><span class="p">,</span> <span class="mf">0.666667</span><span class="p">,</span> <span class="mf">0.109804</span><span class="p">,</span>
    <span class="mf">0.419608</span><span class="p">,</span> <span class="mf">0.686275</span><span class="p">,</span> <span class="mf">0.070588</span><span class="p">,</span>
    <span class="mf">0.435294</span><span class="p">,</span> <span class="mf">0.701961</span><span class="p">,</span> <span class="mf">0.086275</span><span class="p">,</span>
    <span class="mf">0.478431</span><span class="p">,</span> <span class="mf">0.721569</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.494118</span><span class="p">,</span> <span class="mf">0.741176</span><span class="p">,</span> <span class="mf">0.050980</span><span class="p">,</span>
    <span class="mf">0.529412</span><span class="p">,</span> <span class="mf">0.756863</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.545098</span><span class="p">,</span> <span class="mf">0.772549</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.588235</span><span class="p">,</span> <span class="mf">0.788235</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.603922</span><span class="p">,</span> <span class="mf">0.807843</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.635294</span><span class="p">,</span> <span class="mf">0.811765</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.658824</span><span class="p">,</span> <span class="mf">0.835294</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.698039</span><span class="p">,</span> <span class="mf">0.850980</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.721569</span><span class="p">,</span> <span class="mf">0.874510</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.756863</span><span class="p">,</span> <span class="mf">0.878431</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.780392</span><span class="p">,</span> <span class="mf">0.905882</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.823529</span><span class="p">,</span> <span class="mf">0.909804</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.847059</span><span class="p">,</span> <span class="mf">0.933333</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.878431</span><span class="p">,</span> <span class="mf">0.945098</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.901961</span><span class="p">,</span> <span class="mf">0.968627</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.933333</span><span class="p">,</span> <span class="mf">0.972549</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.960784</span><span class="p">,</span> <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.984314</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.972549</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.921569</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.905882</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.862745</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.847059</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.803922</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.788235</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.733333</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.694118</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.678431</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.631373</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.619608</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.580392</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.568627</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.529412</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.509804</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.466667</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.458824</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.431373</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.407843</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">1.000000</span><span class="p">,</span> <span class="mf">0.376471</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.980392</span><span class="p">,</span> <span class="mf">0.360784</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.952941</span><span class="p">,</span> <span class="mf">0.333333</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.929412</span><span class="p">,</span> <span class="mf">0.313725</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.909804</span><span class="p">,</span> <span class="mf">0.290196</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.886275</span><span class="p">,</span> <span class="mf">0.270588</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.862745</span><span class="p">,</span> <span class="mf">0.243137</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.843137</span><span class="p">,</span> <span class="mf">0.231373</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.819608</span><span class="p">,</span> <span class="mf">0.203922</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.792157</span><span class="p">,</span> <span class="mf">0.184314</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.772549</span><span class="p">,</span> <span class="mf">0.160784</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.749020</span><span class="p">,</span> <span class="mf">0.145098</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.725490</span><span class="p">,</span> <span class="mf">0.121569</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.721569</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.686275</span><span class="p">,</span> <span class="mf">0.125490</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.674510</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span> <span class="mf">0.011765</span><span class="p">,</span>
    <span class="mf">0.631373</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.627451</span><span class="p">,</span> <span class="mf">0.117647</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.603922</span><span class="p">,</span> <span class="mf">0.109804</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.592157</span><span class="p">,</span> <span class="mf">0.101961</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.549020</span><span class="p">,</span> <span class="mf">0.105882</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.545098</span><span class="p">,</span> <span class="mf">0.101961</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.505882</span><span class="p">,</span> <span class="mf">0.101961</span><span class="p">,</span> <span class="mf">0.027451</span><span class="p">,</span>
    <span class="mf">0.501961</span><span class="p">,</span> <span class="mf">0.098039</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.474510</span><span class="p">,</span> <span class="mf">0.101961</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.466667</span><span class="p">,</span> <span class="mf">0.098039</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.431373</span><span class="p">,</span> <span class="mf">0.094118</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.427451</span><span class="p">,</span> <span class="mf">0.090196</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.392157</span><span class="p">,</span> <span class="mf">0.094118</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.388235</span><span class="p">,</span> <span class="mf">0.090196</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.360784</span><span class="p">,</span> <span class="mf">0.086275</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.349020</span><span class="p">,</span> <span class="mf">0.078431</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.313725</span><span class="p">,</span> <span class="mf">0.086275</span><span class="p">,</span> <span class="mf">0.047059</span><span class="p">,</span>
    <span class="mf">0.301961</span><span class="p">,</span> <span class="mf">0.078431</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span>
    <span class="mf">0.290196</span><span class="p">,</span> <span class="mf">0.078431</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span>
    <span class="mf">0.278431</span><span class="p">,</span> <span class="mf">0.070588</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.239216</span><span class="p">,</span> <span class="mf">0.074510</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.235294</span><span class="p">,</span> <span class="mf">0.070588</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.215686</span><span class="p">,</span> <span class="mf">0.066667</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span>
    <span class="mf">0.207843</span><span class="p">,</span> <span class="mf">0.062745</span><span class="p">,</span> <span class="mf">0.039216</span><span class="p">,</span>
    <span class="mf">0.180392</span><span class="p">,</span> <span class="mf">0.062745</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span>
    <span class="mf">0.160784</span><span class="p">,</span> <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.141176</span><span class="p">,</span> <span class="mf">0.054902</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.137255</span><span class="p">,</span> <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.113725</span><span class="p">,</span> <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.101961</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.082353</span><span class="p">,</span> <span class="mf">0.043137</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span>
    <span class="mf">0.070588</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.058824</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.058824</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.054902</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.015686</span><span class="p">,</span>
    <span class="mf">0.047059</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.050980</span><span class="p">,</span> <span class="mf">0.027451</span><span class="p">,</span> <span class="mf">0.023529</span><span class="p">,</span>
    <span class="mf">0.043137</span><span class="p">,</span> <span class="mf">0.027451</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.039216</span><span class="p">,</span> <span class="mf">0.015686</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.035294</span><span class="p">,</span> <span class="mf">0.019608</span><span class="p">,</span> <span class="mf">0.015686</span><span class="p">,</span>
    <span class="mf">0.031373</span><span class="p">,</span> <span class="mf">0.011765</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.023529</span><span class="p">,</span> <span class="mf">0.015686</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.023529</span><span class="p">,</span> <span class="mf">0.015686</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span>
    <span class="mf">0.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">,</span> <span class="mf">0.000000</span><span class="p">])</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">3</span><span class="p">]</span>

    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>


<div class="viewcode-block" id="cmap_eke"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_eke">[docs]</a><span class="k">def</span> <span class="nf">cmap_eke</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_eke&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Colormap for Eddy Kinetic Energy (from Barnier et al., 2006)</span>

<span class="sd">    Added by G. Charria</span>
<span class="sd">    &quot;&quot;&quot;</span>


    <span class="n">r</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span>
    <span class="mf">0.98792</span><span class="p">,</span>
    <span class="mf">0.97584</span><span class="p">,</span>
    <span class="mf">0.96376</span><span class="p">,</span>
    <span class="mf">0.95169</span><span class="p">,</span>
    <span class="mf">0.93961</span><span class="p">,</span>
    <span class="mf">0.92753</span><span class="p">,</span>
    <span class="mf">0.91545</span><span class="p">,</span>
    <span class="mf">0.90337</span><span class="p">,</span>
    <span class="mf">0.89129</span><span class="p">,</span>
    <span class="mf">0.87922</span><span class="p">,</span>
    <span class="mf">0.86714</span><span class="p">,</span>
    <span class="mf">0.85506</span><span class="p">,</span>
    <span class="mf">0.84298</span><span class="p">,</span>
    <span class="mf">0.8309</span><span class="p">,</span>
    <span class="mf">0.81882</span><span class="p">,</span>
    <span class="mf">0.80675</span><span class="p">,</span>
    <span class="mf">0.79467</span><span class="p">,</span>
    <span class="mf">0.78259</span><span class="p">,</span>
    <span class="mf">0.77051</span><span class="p">,</span>
    <span class="mf">0.75843</span><span class="p">,</span>
    <span class="mf">0.74635</span><span class="p">,</span>
    <span class="mf">0.73427</span><span class="p">,</span>
    <span class="mf">0.7222</span><span class="p">,</span>
    <span class="mf">0.71012</span><span class="p">,</span>
    <span class="mf">0.69804</span><span class="p">,</span>
    <span class="mf">0.68596</span><span class="p">,</span>
    <span class="mf">0.67388</span><span class="p">,</span>
    <span class="mf">0.6618</span><span class="p">,</span>
    <span class="mf">0.64973</span><span class="p">,</span>
    <span class="mf">0.63765</span><span class="p">,</span>
    <span class="mf">0.62557</span><span class="p">,</span>
    <span class="mf">0.61349</span><span class="p">,</span>
    <span class="mf">0.60141</span><span class="p">,</span>
    <span class="mf">0.58933</span><span class="p">,</span>
    <span class="mf">0.57725</span><span class="p">,</span>
    <span class="mf">0.56518</span><span class="p">,</span>
    <span class="mf">0.55122</span><span class="p">,</span>
    <span class="mf">0.53584</span><span class="p">,</span>
    <span class="mf">0.52047</span><span class="p">,</span>
    <span class="mf">0.5051</span><span class="p">,</span>
    <span class="mf">0.48973</span><span class="p">,</span>
    <span class="mf">0.47435</span><span class="p">,</span>
    <span class="mf">0.45898</span><span class="p">,</span>
    <span class="mf">0.44361</span><span class="p">,</span>
    <span class="mf">0.42824</span><span class="p">,</span>
    <span class="mf">0.41286</span><span class="p">,</span>
    <span class="mf">0.39749</span><span class="p">,</span>
    <span class="mf">0.38212</span><span class="p">,</span>
    <span class="mf">0.36675</span><span class="p">,</span>
    <span class="mf">0.35137</span><span class="p">,</span>
    <span class="mf">0.336</span><span class="p">,</span>
    <span class="mf">0.32063</span><span class="p">,</span>
    <span class="mf">0.30525</span><span class="p">,</span>
    <span class="mf">0.28988</span><span class="p">,</span>
    <span class="mf">0.27451</span><span class="p">,</span>
    <span class="mf">0.25914</span><span class="p">,</span>
    <span class="mf">0.24376</span><span class="p">,</span>
    <span class="mf">0.22839</span><span class="p">,</span>
    <span class="mf">0.21302</span><span class="p">,</span>
    <span class="mf">0.19765</span><span class="p">,</span>
    <span class="mf">0.18227</span><span class="p">,</span>
    <span class="mf">0.1669</span><span class="p">,</span>
    <span class="mf">0.15153</span><span class="p">,</span>
    <span class="mf">0.13616</span><span class="p">,</span>
    <span class="mf">0.12078</span><span class="p">,</span>
    <span class="mf">0.10541</span><span class="p">,</span>
    <span class="mf">0.090039</span><span class="p">,</span>
    <span class="mf">0.074667</span><span class="p">,</span>
    <span class="mf">0.059294</span><span class="p">,</span>
    <span class="mf">0.043922</span><span class="p">,</span>
    <span class="mf">0.028549</span><span class="p">,</span>
    <span class="mf">0.013176</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mf">0.0035294</span><span class="p">,</span>
    <span class="mf">0.0084706</span><span class="p">,</span>
    <span class="mf">0.013412</span><span class="p">,</span>
    <span class="mf">0.018353</span><span class="p">,</span>
    <span class="mf">0.023294</span><span class="p">,</span>
    <span class="mf">0.028235</span><span class="p">,</span>
    <span class="mf">0.033176</span><span class="p">,</span>
    <span class="mf">0.038118</span><span class="p">,</span>
    <span class="mf">0.043059</span><span class="p">,</span>
    <span class="mf">0.048</span><span class="p">,</span>
    <span class="mf">0.052941</span><span class="p">,</span>
    <span class="mf">0.057882</span><span class="p">,</span>
    <span class="mf">0.062824</span><span class="p">,</span>
    <span class="mf">0.067765</span><span class="p">,</span>
    <span class="mf">0.072706</span><span class="p">,</span>
    <span class="mf">0.077647</span><span class="p">,</span>
    <span class="mf">0.082588</span><span class="p">,</span>
    <span class="mf">0.087529</span><span class="p">,</span>
    <span class="mf">0.092471</span><span class="p">,</span>
    <span class="mf">0.097412</span><span class="p">,</span>
    <span class="mf">0.10235</span><span class="p">,</span>
    <span class="mf">0.10729</span><span class="p">,</span>
    <span class="mf">0.11224</span><span class="p">,</span>
    <span class="mf">0.11718</span><span class="p">,</span>
    <span class="mf">0.12212</span><span class="p">,</span>
    <span class="mf">0.12706</span><span class="p">,</span>
    <span class="mf">0.132</span><span class="p">,</span>
    <span class="mf">0.13694</span><span class="p">,</span>
    <span class="mf">0.14188</span><span class="p">,</span>
    <span class="mf">0.14682</span><span class="p">,</span>
    <span class="mf">0.15176</span><span class="p">,</span>
    <span class="mf">0.15671</span><span class="p">,</span>
    <span class="mf">0.16165</span><span class="p">,</span>
    <span class="mf">0.16659</span><span class="p">,</span>
    <span class="mf">0.17153</span><span class="p">,</span>
    <span class="mf">0.17647</span><span class="p">,</span>
    <span class="mf">0.18643</span><span class="p">,</span>
    <span class="mf">0.20894</span><span class="p">,</span>
    <span class="mf">0.23145</span><span class="p">,</span>
    <span class="mf">0.25396</span><span class="p">,</span>
    <span class="mf">0.27647</span><span class="p">,</span>
    <span class="mf">0.29898</span><span class="p">,</span>
    <span class="mf">0.32149</span><span class="p">,</span>
    <span class="mf">0.344</span><span class="p">,</span>
    <span class="mf">0.36651</span><span class="p">,</span>
    <span class="mf">0.38902</span><span class="p">,</span>
    <span class="mf">0.41153</span><span class="p">,</span>
    <span class="mf">0.43404</span><span class="p">,</span>
    <span class="mf">0.45655</span><span class="p">,</span>
    <span class="mf">0.47906</span><span class="p">,</span>
    <span class="mf">0.50157</span><span class="p">,</span>
    <span class="mf">0.52408</span><span class="p">,</span>
    <span class="mf">0.54659</span><span class="p">,</span>
    <span class="mf">0.5691</span><span class="p">,</span>
    <span class="mf">0.59161</span><span class="p">,</span>
    <span class="mf">0.61412</span><span class="p">,</span>
    <span class="mf">0.63663</span><span class="p">,</span>
    <span class="mf">0.65914</span><span class="p">,</span>
    <span class="mf">0.68165</span><span class="p">,</span>
    <span class="mf">0.70416</span><span class="p">,</span>
    <span class="mf">0.72667</span><span class="p">,</span>
    <span class="mf">0.74918</span><span class="p">,</span>
    <span class="mf">0.77169</span><span class="p">,</span>
    <span class="mf">0.7942</span><span class="p">,</span>
    <span class="mf">0.81671</span><span class="p">,</span>
    <span class="mf">0.83922</span><span class="p">,</span>
    <span class="mf">0.86173</span><span class="p">,</span>
    <span class="mf">0.88424</span><span class="p">,</span>
    <span class="mf">0.90675</span><span class="p">,</span>
    <span class="mf">0.92925</span><span class="p">,</span>
    <span class="mf">0.95176</span><span class="p">,</span>
    <span class="mf">0.97427</span><span class="p">,</span>
    <span class="mf">0.99678</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mf">0.98824</span><span class="p">,</span>
    <span class="mf">0.96078</span><span class="p">,</span>
    <span class="mf">0.93333</span><span class="p">,</span>
    <span class="mf">0.90588</span><span class="p">,</span>
    <span class="mf">0.87843</span><span class="p">,</span>
    <span class="mf">0.85098</span><span class="p">,</span>
    <span class="mf">0.82353</span><span class="p">,</span>
    <span class="mf">0.79608</span><span class="p">,</span>
    <span class="mf">0.76863</span><span class="p">,</span>
    <span class="mf">0.74118</span><span class="p">,</span>
    <span class="mf">0.71373</span><span class="p">,</span>
    <span class="mf">0.68627</span><span class="p">,</span>
    <span class="mf">0.65882</span><span class="p">,</span>
    <span class="mf">0.63137</span><span class="p">,</span>
    <span class="mf">0.60392</span><span class="p">,</span>
    <span class="mf">0.57647</span><span class="p">,</span>
    <span class="mf">0.54902</span><span class="p">,</span>
    <span class="mf">0.52157</span><span class="p">,</span>
    <span class="mf">0.49412</span><span class="p">,</span>
    <span class="mf">0.46667</span><span class="p">,</span>
    <span class="mf">0.43922</span><span class="p">,</span>
    <span class="mf">0.41176</span><span class="p">,</span>
    <span class="mf">0.38431</span><span class="p">,</span>
    <span class="mf">0.35686</span><span class="p">,</span>
    <span class="mf">0.32941</span><span class="p">,</span>
    <span class="mf">0.30196</span><span class="p">,</span>
    <span class="mf">0.27451</span><span class="p">,</span>
    <span class="mf">0.24706</span><span class="p">,</span>
    <span class="mf">0.21961</span><span class="p">,</span>
    <span class="mf">0.19216</span><span class="p">,</span>
    <span class="mf">0.16471</span><span class="p">,</span>
    <span class="mf">0.13725</span><span class="p">,</span>
    <span class="mf">0.1098</span><span class="p">,</span>
    <span class="mf">0.082353</span><span class="p">,</span>
    <span class="mf">0.054902</span><span class="p">,</span>
    <span class="mf">0.027451</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">])</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span>
    <span class="mf">0.97749</span><span class="p">,</span>
    <span class="mf">0.95498</span><span class="p">,</span>
    <span class="mf">0.93247</span><span class="p">,</span>
    <span class="mf">0.90996</span><span class="p">,</span>
    <span class="mf">0.88745</span><span class="p">,</span>
    <span class="mf">0.86494</span><span class="p">,</span>
    <span class="mf">0.84243</span><span class="p">,</span>
    <span class="mf">0.81992</span><span class="p">,</span>
    <span class="mf">0.79741</span><span class="p">,</span>
    <span class="mf">0.7749</span><span class="p">,</span>
    <span class="mf">0.75239</span><span class="p">,</span>
    <span class="mf">0.72988</span><span class="p">,</span>
    <span class="mf">0.70737</span><span class="p">,</span>
    <span class="mf">0.68486</span><span class="p">,</span>
    <span class="mf">0.66235</span><span class="p">,</span>
    <span class="mf">0.63984</span><span class="p">,</span>
    <span class="mf">0.61733</span><span class="p">,</span>
    <span class="mf">0.59482</span><span class="p">,</span>
    <span class="mf">0.57231</span><span class="p">,</span>
    <span class="mf">0.5498</span><span class="p">,</span>
    <span class="mf">0.52729</span><span class="p">,</span>
    <span class="mf">0.50478</span><span class="p">,</span>
    <span class="mf">0.48227</span><span class="p">,</span>
    <span class="mf">0.45976</span><span class="p">,</span>
    <span class="mf">0.43725</span><span class="p">,</span>
    <span class="mf">0.41475</span><span class="p">,</span>
    <span class="mf">0.39224</span><span class="p">,</span>
    <span class="mf">0.36973</span><span class="p">,</span>
    <span class="mf">0.34722</span><span class="p">,</span>
    <span class="mf">0.32471</span><span class="p">,</span>
    <span class="mf">0.3022</span><span class="p">,</span>
    <span class="mf">0.27969</span><span class="p">,</span>
    <span class="mf">0.25718</span><span class="p">,</span>
    <span class="mf">0.23467</span><span class="p">,</span>
    <span class="mf">0.21216</span><span class="p">,</span>
    <span class="mf">0.18965</span><span class="p">,</span>
    <span class="mf">0.19286</span><span class="p">,</span>
    <span class="mf">0.21537</span><span class="p">,</span>
    <span class="mf">0.23788</span><span class="p">,</span>
    <span class="mf">0.26039</span><span class="p">,</span>
    <span class="mf">0.2829</span><span class="p">,</span>
    <span class="mf">0.30541</span><span class="p">,</span>
    <span class="mf">0.32792</span><span class="p">,</span>
    <span class="mf">0.35043</span><span class="p">,</span>
    <span class="mf">0.37294</span><span class="p">,</span>
    <span class="mf">0.39545</span><span class="p">,</span>
    <span class="mf">0.41796</span><span class="p">,</span>
    <span class="mf">0.44047</span><span class="p">,</span>
    <span class="mf">0.46298</span><span class="p">,</span>
    <span class="mf">0.48549</span><span class="p">,</span>
    <span class="mf">0.508</span><span class="p">,</span>
    <span class="mf">0.53051</span><span class="p">,</span>
    <span class="mf">0.55302</span><span class="p">,</span>
    <span class="mf">0.57553</span><span class="p">,</span>
    <span class="mf">0.59804</span><span class="p">,</span>
    <span class="mf">0.62055</span><span class="p">,</span>
    <span class="mf">0.64306</span><span class="p">,</span>
    <span class="mf">0.66557</span><span class="p">,</span>
    <span class="mf">0.68808</span><span class="p">,</span>
    <span class="mf">0.71059</span><span class="p">,</span>
    <span class="mf">0.7331</span><span class="p">,</span>
    <span class="mf">0.75561</span><span class="p">,</span>
    <span class="mf">0.77812</span><span class="p">,</span>
    <span class="mf">0.80063</span><span class="p">,</span>
    <span class="mf">0.82314</span><span class="p">,</span>
    <span class="mf">0.84565</span><span class="p">,</span>
    <span class="mf">0.86816</span><span class="p">,</span>
    <span class="mf">0.89067</span><span class="p">,</span>
    <span class="mf">0.91318</span><span class="p">,</span>
    <span class="mf">0.93569</span><span class="p">,</span>
    <span class="mf">0.9582</span><span class="p">,</span>
    <span class="mf">0.98071</span><span class="p">,</span>
    <span class="mf">0.99608</span><span class="p">,</span>
    <span class="mf">0.96863</span><span class="p">,</span>
    <span class="mf">0.94118</span><span class="p">,</span>
    <span class="mf">0.91373</span><span class="p">,</span>
    <span class="mf">0.88627</span><span class="p">,</span>
    <span class="mf">0.85882</span><span class="p">,</span>
    <span class="mf">0.83137</span><span class="p">,</span>
    <span class="mf">0.80392</span><span class="p">,</span>
    <span class="mf">0.77647</span><span class="p">,</span>
    <span class="mf">0.74902</span><span class="p">,</span>
    <span class="mf">0.72157</span><span class="p">,</span>
    <span class="mf">0.69412</span><span class="p">,</span>
    <span class="mf">0.66667</span><span class="p">,</span>
    <span class="mf">0.63922</span><span class="p">,</span>
    <span class="mf">0.61176</span><span class="p">,</span>
    <span class="mf">0.58431</span><span class="p">,</span>
    <span class="mf">0.55686</span><span class="p">,</span>
    <span class="mf">0.52941</span><span class="p">,</span>
    <span class="mf">0.50196</span><span class="p">,</span>
    <span class="mf">0.47451</span><span class="p">,</span>
    <span class="mf">0.44706</span><span class="p">,</span>
    <span class="mf">0.41961</span><span class="p">,</span>
    <span class="mf">0.39216</span><span class="p">,</span>
    <span class="mf">0.36471</span><span class="p">,</span>
    <span class="mf">0.33725</span><span class="p">,</span>
    <span class="mf">0.3098</span><span class="p">,</span>
    <span class="mf">0.28235</span><span class="p">,</span>
    <span class="mf">0.2549</span><span class="p">,</span>
    <span class="mf">0.22745</span><span class="p">,</span>
    <span class="mf">0.2</span><span class="p">,</span>
    <span class="mf">0.17255</span><span class="p">,</span>
    <span class="mf">0.1451</span><span class="p">,</span>
    <span class="mf">0.11765</span><span class="p">,</span>
    <span class="mf">0.090196</span><span class="p">,</span>
    <span class="mf">0.062745</span><span class="p">,</span>
    <span class="mf">0.035294</span><span class="p">,</span>
    <span class="mf">0.0078431</span><span class="p">,</span>
    <span class="mf">0.01549</span><span class="p">,</span>
    <span class="mf">0.037176</span><span class="p">,</span>
    <span class="mf">0.058863</span><span class="p">,</span>
    <span class="mf">0.080549</span><span class="p">,</span>
    <span class="mf">0.10224</span><span class="p">,</span>
    <span class="mf">0.12392</span><span class="p">,</span>
    <span class="mf">0.14561</span><span class="p">,</span>
    <span class="mf">0.16729</span><span class="p">,</span>
    <span class="mf">0.18898</span><span class="p">,</span>
    <span class="mf">0.21067</span><span class="p">,</span>
    <span class="mf">0.23235</span><span class="p">,</span>
    <span class="mf">0.25404</span><span class="p">,</span>
    <span class="mf">0.27573</span><span class="p">,</span>
    <span class="mf">0.29741</span><span class="p">,</span>
    <span class="mf">0.3191</span><span class="p">,</span>
    <span class="mf">0.34078</span><span class="p">,</span>
    <span class="mf">0.36247</span><span class="p">,</span>
    <span class="mf">0.38416</span><span class="p">,</span>
    <span class="mf">0.40584</span><span class="p">,</span>
    <span class="mf">0.42753</span><span class="p">,</span>
    <span class="mf">0.44922</span><span class="p">,</span>
    <span class="mf">0.4709</span><span class="p">,</span>
    <span class="mf">0.49259</span><span class="p">,</span>
    <span class="mf">0.51427</span><span class="p">,</span>
    <span class="mf">0.53596</span><span class="p">,</span>
    <span class="mf">0.55765</span><span class="p">,</span>
    <span class="mf">0.57933</span><span class="p">,</span>
    <span class="mf">0.60102</span><span class="p">,</span>
    <span class="mf">0.62271</span><span class="p">,</span>
    <span class="mf">0.64439</span><span class="p">,</span>
    <span class="mf">0.66608</span><span class="p">,</span>
    <span class="mf">0.68776</span><span class="p">,</span>
    <span class="mf">0.70945</span><span class="p">,</span>
    <span class="mf">0.73114</span><span class="p">,</span>
    <span class="mf">0.75282</span><span class="p">,</span>
    <span class="mf">0.77451</span><span class="p">,</span>
    <span class="mf">0.79165</span><span class="p">,</span>
    <span class="mf">0.79741</span><span class="p">,</span>
    <span class="mf">0.80318</span><span class="p">,</span>
    <span class="mf">0.80894</span><span class="p">,</span>
    <span class="mf">0.81471</span><span class="p">,</span>
    <span class="mf">0.82047</span><span class="p">,</span>
    <span class="mf">0.82624</span><span class="p">,</span>
    <span class="mf">0.832</span><span class="p">,</span>
    <span class="mf">0.83776</span><span class="p">,</span>
    <span class="mf">0.84353</span><span class="p">,</span>
    <span class="mf">0.84929</span><span class="p">,</span>
    <span class="mf">0.85506</span><span class="p">,</span>
    <span class="mf">0.86082</span><span class="p">,</span>
    <span class="mf">0.86659</span><span class="p">,</span>
    <span class="mf">0.87235</span><span class="p">,</span>
    <span class="mf">0.87812</span><span class="p">,</span>
    <span class="mf">0.88388</span><span class="p">,</span>
    <span class="mf">0.88965</span><span class="p">,</span>
    <span class="mf">0.89541</span><span class="p">,</span>
    <span class="mf">0.90118</span><span class="p">,</span>
    <span class="mf">0.90694</span><span class="p">,</span>
    <span class="mf">0.91271</span><span class="p">,</span>
    <span class="mf">0.91847</span><span class="p">,</span>
    <span class="mf">0.92424</span><span class="p">,</span>
    <span class="mf">0.93</span><span class="p">,</span>
    <span class="mf">0.93576</span><span class="p">,</span>
    <span class="mf">0.94153</span><span class="p">,</span>
    <span class="mf">0.94729</span><span class="p">,</span>
    <span class="mf">0.95306</span><span class="p">,</span>
    <span class="mf">0.95882</span><span class="p">,</span>
    <span class="mf">0.96459</span><span class="p">,</span>
    <span class="mf">0.97035</span><span class="p">,</span>
    <span class="mf">0.97612</span><span class="p">,</span>
    <span class="mf">0.98188</span><span class="p">,</span>
    <span class="mf">0.98765</span><span class="p">,</span>
    <span class="mf">0.99341</span><span class="p">,</span>
    <span class="mf">0.99918</span><span class="p">,</span>
    <span class="mf">0.97647</span><span class="p">,</span>
    <span class="mf">0.94902</span><span class="p">,</span>
    <span class="mf">0.92157</span><span class="p">,</span>
    <span class="mf">0.89412</span><span class="p">,</span>
    <span class="mf">0.86667</span><span class="p">,</span>
    <span class="mf">0.83922</span><span class="p">,</span>
    <span class="mf">0.81176</span><span class="p">,</span>
    <span class="mf">0.78431</span><span class="p">,</span>
    <span class="mf">0.75686</span><span class="p">,</span>
    <span class="mf">0.72941</span><span class="p">,</span>
    <span class="mf">0.70196</span><span class="p">,</span>
    <span class="mf">0.67451</span><span class="p">,</span>
    <span class="mf">0.64706</span><span class="p">,</span>
    <span class="mf">0.61961</span><span class="p">,</span>
    <span class="mf">0.59216</span><span class="p">,</span>
    <span class="mf">0.56471</span><span class="p">,</span>
    <span class="mf">0.53725</span><span class="p">,</span>
    <span class="mf">0.5098</span><span class="p">,</span>
    <span class="mf">0.48235</span><span class="p">,</span>
    <span class="mf">0.4549</span><span class="p">,</span>
    <span class="mf">0.42745</span><span class="p">,</span>
    <span class="mf">0.4</span><span class="p">,</span>
    <span class="mf">0.37255</span><span class="p">,</span>
    <span class="mf">0.3451</span><span class="p">,</span>
    <span class="mf">0.31765</span><span class="p">,</span>
    <span class="mf">0.2902</span><span class="p">,</span>
    <span class="mf">0.26275</span><span class="p">,</span>
    <span class="mf">0.23529</span><span class="p">,</span>
    <span class="mf">0.20784</span><span class="p">,</span>
    <span class="mf">0.18039</span><span class="p">,</span>
    <span class="mf">0.15294</span><span class="p">,</span>
    <span class="mf">0.12549</span><span class="p">,</span>
    <span class="mf">0.098039</span><span class="p">,</span>
    <span class="mf">0.070588</span><span class="p">,</span>
    <span class="mf">0.043137</span><span class="p">,</span>
    <span class="mf">0.015686</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">])</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span>
    <span class="mf">0.99424</span><span class="p">,</span>
    <span class="mf">0.98847</span><span class="p">,</span>
    <span class="mf">0.98271</span><span class="p">,</span>
    <span class="mf">0.97694</span><span class="p">,</span>
    <span class="mf">0.97118</span><span class="p">,</span>
    <span class="mf">0.96541</span><span class="p">,</span>
    <span class="mf">0.95965</span><span class="p">,</span>
    <span class="mf">0.95388</span><span class="p">,</span>
    <span class="mf">0.94812</span><span class="p">,</span>
    <span class="mf">0.94235</span><span class="p">,</span>
    <span class="mf">0.93659</span><span class="p">,</span>
    <span class="mf">0.93082</span><span class="p">,</span>
    <span class="mf">0.92506</span><span class="p">,</span>
    <span class="mf">0.91929</span><span class="p">,</span>
    <span class="mf">0.91353</span><span class="p">,</span>
    <span class="mf">0.90776</span><span class="p">,</span>
    <span class="mf">0.902</span><span class="p">,</span>
    <span class="mf">0.89624</span><span class="p">,</span>
    <span class="mf">0.89047</span><span class="p">,</span>
    <span class="mf">0.88471</span><span class="p">,</span>
    <span class="mf">0.87894</span><span class="p">,</span>
    <span class="mf">0.87318</span><span class="p">,</span>
    <span class="mf">0.86741</span><span class="p">,</span>
    <span class="mf">0.86165</span><span class="p">,</span>
    <span class="mf">0.85588</span><span class="p">,</span>
    <span class="mf">0.85012</span><span class="p">,</span>
    <span class="mf">0.84435</span><span class="p">,</span>
    <span class="mf">0.83859</span><span class="p">,</span>
    <span class="mf">0.83282</span><span class="p">,</span>
    <span class="mf">0.82706</span><span class="p">,</span>
    <span class="mf">0.82129</span><span class="p">,</span>
    <span class="mf">0.81553</span><span class="p">,</span>
    <span class="mf">0.80976</span><span class="p">,</span>
    <span class="mf">0.804</span><span class="p">,</span>
    <span class="mf">0.79824</span><span class="p">,</span>
    <span class="mf">0.79247</span><span class="p">,</span>
    <span class="mf">0.79329</span><span class="p">,</span>
    <span class="mf">0.79906</span><span class="p">,</span>
    <span class="mf">0.80482</span><span class="p">,</span>
    <span class="mf">0.81059</span><span class="p">,</span>
    <span class="mf">0.81635</span><span class="p">,</span>
    <span class="mf">0.82212</span><span class="p">,</span>
    <span class="mf">0.82788</span><span class="p">,</span>
    <span class="mf">0.83365</span><span class="p">,</span>
    <span class="mf">0.83941</span><span class="p">,</span>
    <span class="mf">0.84518</span><span class="p">,</span>
    <span class="mf">0.85094</span><span class="p">,</span>
    <span class="mf">0.85671</span><span class="p">,</span>
    <span class="mf">0.86247</span><span class="p">,</span>
    <span class="mf">0.86824</span><span class="p">,</span>
    <span class="mf">0.874</span><span class="p">,</span>
    <span class="mf">0.87976</span><span class="p">,</span>
    <span class="mf">0.88553</span><span class="p">,</span>
    <span class="mf">0.89129</span><span class="p">,</span>
    <span class="mf">0.89706</span><span class="p">,</span>
    <span class="mf">0.90282</span><span class="p">,</span>
    <span class="mf">0.90859</span><span class="p">,</span>
    <span class="mf">0.91435</span><span class="p">,</span>
    <span class="mf">0.92012</span><span class="p">,</span>
    <span class="mf">0.92588</span><span class="p">,</span>
    <span class="mf">0.93165</span><span class="p">,</span>
    <span class="mf">0.93741</span><span class="p">,</span>
    <span class="mf">0.94318</span><span class="p">,</span>
    <span class="mf">0.94894</span><span class="p">,</span>
    <span class="mf">0.95471</span><span class="p">,</span>
    <span class="mf">0.96047</span><span class="p">,</span>
    <span class="mf">0.96624</span><span class="p">,</span>
    <span class="mf">0.972</span><span class="p">,</span>
    <span class="mf">0.97776</span><span class="p">,</span>
    <span class="mf">0.98353</span><span class="p">,</span>
    <span class="mf">0.98929</span><span class="p">,</span>
    <span class="mf">0.99506</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mf">0.98039</span><span class="p">,</span>
    <span class="mf">0.95294</span><span class="p">,</span>
    <span class="mf">0.92549</span><span class="p">,</span>
    <span class="mf">0.89804</span><span class="p">,</span>
    <span class="mf">0.87059</span><span class="p">,</span>
    <span class="mf">0.84314</span><span class="p">,</span>
    <span class="mf">0.81569</span><span class="p">,</span>
    <span class="mf">0.78824</span><span class="p">,</span>
    <span class="mf">0.76078</span><span class="p">,</span>
    <span class="mf">0.73333</span><span class="p">,</span>
    <span class="mf">0.70588</span><span class="p">,</span>
    <span class="mf">0.67843</span><span class="p">,</span>
    <span class="mf">0.65098</span><span class="p">,</span>
    <span class="mf">0.62353</span><span class="p">,</span>
    <span class="mf">0.59608</span><span class="p">,</span>
    <span class="mf">0.56863</span><span class="p">,</span>
    <span class="mf">0.54118</span><span class="p">,</span>
    <span class="mf">0.51373</span><span class="p">,</span>
    <span class="mf">0.48627</span><span class="p">,</span>
    <span class="mf">0.45882</span><span class="p">,</span>
    <span class="mf">0.43137</span><span class="p">,</span>
    <span class="mf">0.40392</span><span class="p">,</span>
    <span class="mf">0.37647</span><span class="p">,</span>
    <span class="mf">0.34902</span><span class="p">,</span>
    <span class="mf">0.32157</span><span class="p">,</span>
    <span class="mf">0.29412</span><span class="p">,</span>
    <span class="mf">0.26667</span><span class="p">,</span>
    <span class="mf">0.23922</span><span class="p">,</span>
    <span class="mf">0.21176</span><span class="p">,</span>
    <span class="mf">0.18431</span><span class="p">,</span>
    <span class="mf">0.15686</span><span class="p">,</span>
    <span class="mf">0.12941</span><span class="p">,</span>
    <span class="mf">0.10196</span><span class="p">,</span>
    <span class="mf">0.07451</span><span class="p">,</span>
    <span class="mf">0.047059</span><span class="p">,</span>
    <span class="mf">0.019608</span><span class="p">,</span>
    <span class="mf">0.0021961</span><span class="p">,</span>
    <span class="mf">0.0098824</span><span class="p">,</span>
    <span class="mf">0.017569</span><span class="p">,</span>
    <span class="mf">0.025255</span><span class="p">,</span>
    <span class="mf">0.032941</span><span class="p">,</span>
    <span class="mf">0.040627</span><span class="p">,</span>
    <span class="mf">0.048314</span><span class="p">,</span>
    <span class="mf">0.056</span><span class="p">,</span>
    <span class="mf">0.063686</span><span class="p">,</span>
    <span class="mf">0.071373</span><span class="p">,</span>
    <span class="mf">0.079059</span><span class="p">,</span>
    <span class="mf">0.086745</span><span class="p">,</span>
    <span class="mf">0.094431</span><span class="p">,</span>
    <span class="mf">0.10212</span><span class="p">,</span>
    <span class="mf">0.1098</span><span class="p">,</span>
    <span class="mf">0.11749</span><span class="p">,</span>
    <span class="mf">0.12518</span><span class="p">,</span>
    <span class="mf">0.13286</span><span class="p">,</span>
    <span class="mf">0.14055</span><span class="p">,</span>
    <span class="mf">0.14824</span><span class="p">,</span>
    <span class="mf">0.15592</span><span class="p">,</span>
    <span class="mf">0.16361</span><span class="p">,</span>
    <span class="mf">0.17129</span><span class="p">,</span>
    <span class="mf">0.17898</span><span class="p">,</span>
    <span class="mf">0.18667</span><span class="p">,</span>
    <span class="mf">0.19435</span><span class="p">,</span>
    <span class="mf">0.20204</span><span class="p">,</span>
    <span class="mf">0.20973</span><span class="p">,</span>
    <span class="mf">0.21741</span><span class="p">,</span>
    <span class="mf">0.2251</span><span class="p">,</span>
    <span class="mf">0.23278</span><span class="p">,</span>
    <span class="mf">0.24047</span><span class="p">,</span>
    <span class="mf">0.24816</span><span class="p">,</span>
    <span class="mf">0.25584</span><span class="p">,</span>
    <span class="mf">0.26353</span><span class="p">,</span>
    <span class="mf">0.27122</span><span class="p">,</span>
    <span class="mf">0.2789</span><span class="p">,</span>
    <span class="mf">0.27341</span><span class="p">,</span>
    <span class="mf">0.26573</span><span class="p">,</span>
    <span class="mf">0.25804</span><span class="p">,</span>
    <span class="mf">0.25035</span><span class="p">,</span>
    <span class="mf">0.24267</span><span class="p">,</span>
    <span class="mf">0.23498</span><span class="p">,</span>
    <span class="mf">0.22729</span><span class="p">,</span>
    <span class="mf">0.21961</span><span class="p">,</span>
    <span class="mf">0.21192</span><span class="p">,</span>
    <span class="mf">0.20424</span><span class="p">,</span>
    <span class="mf">0.19655</span><span class="p">,</span>
    <span class="mf">0.18886</span><span class="p">,</span>
    <span class="mf">0.18118</span><span class="p">,</span>
    <span class="mf">0.17349</span><span class="p">,</span>
    <span class="mf">0.1658</span><span class="p">,</span>
    <span class="mf">0.15812</span><span class="p">,</span>
    <span class="mf">0.15043</span><span class="p">,</span>
    <span class="mf">0.14275</span><span class="p">,</span>
    <span class="mf">0.13506</span><span class="p">,</span>
    <span class="mf">0.12737</span><span class="p">,</span>
    <span class="mf">0.11969</span><span class="p">,</span>
    <span class="mf">0.112</span><span class="p">,</span>
    <span class="mf">0.10431</span><span class="p">,</span>
    <span class="mf">0.096627</span><span class="p">,</span>
    <span class="mf">0.088941</span><span class="p">,</span>
    <span class="mf">0.081255</span><span class="p">,</span>
    <span class="mf">0.073569</span><span class="p">,</span>
    <span class="mf">0.065882</span><span class="p">,</span>
    <span class="mf">0.058196</span><span class="p">,</span>
    <span class="mf">0.05051</span><span class="p">,</span>
    <span class="mf">0.042824</span><span class="p">,</span>
    <span class="mf">0.035137</span><span class="p">,</span>
    <span class="mf">0.027451</span><span class="p">,</span>
    <span class="mf">0.019765</span><span class="p">,</span>
    <span class="mf">0.012078</span><span class="p">,</span>
    <span class="mf">0.0043922</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">])</span>


    <span class="n">colors</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_srs</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<span class="k">def</span> <span class="nf">_local_cmap_cpt_</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a cmap stored in a GMT format in file _cpt_dir/&lt;name&gt;.cpt&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">cmap_d</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cmap_d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="n">sname</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;vacumm_&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">name</span>
    <span class="k">return</span> <span class="n">cmap_gmt</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">_cpt_dir</span><span class="p">,</span> <span class="n">sname</span><span class="o">+</span><span class="s1">&#39;.cpt&#39;</span><span class="p">),</span> <span class="n">register</span><span class="o">=</span><span class="s1">&#39;vacumm_&#39;</span><span class="o">+</span><span class="n">sname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<div class="viewcode-block" id="cmap_currents"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_currents">[docs]</a><span class="k">def</span> <span class="nf">cmap_currents</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;vacumm_currents&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A colormap for displaying currents&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_local_cmap_cpt_</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmap_rnb2_hymex"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_rnb2_hymex">[docs]</a><span class="k">def</span> <span class="nf">cmap_rnb2_hymex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_rnb2_hymex&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;RNB2 Colormap for HYMEX</span>

<span class="sd">    .. note:: This colormap is registered in matplotlib under the name &quot;vacumm_rnb2_hymex&quot;.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_rnb2_hymex.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">((</span><span class="mf">0.</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">6</span><span class="p">),</span> <span class="mf">0.</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">12</span><span class="p">),</span>
        <span class="p">((</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">.</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">16</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">.</span><span class="mi">27</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">82</span><span class="p">),</span>
        <span class="p">((</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">9</span><span class="p">),</span>
        <span class="p">((</span><span class="o">.</span><span class="mi">6</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="o">.</span><span class="mi">6</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)]</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_rainbow_sst_hymex"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_rainbow_sst_hymex">[docs]</a><span class="k">def</span> <span class="nf">cmap_rainbow_sst_hymex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_rainbow_sst_hymex&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;RAINBOW_SST Colormap for HYMEX</span>

<span class="sd">    .. note:: This colormap is registered in matplotlib under the name &quot;vacumm_rainbow_sst_hymex&quot;.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_rainbow_sst_hymex.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">((</span><span class="mf">0.</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">.</span><span class="mi">52</span><span class="p">),</span> <span class="mf">0.</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.41</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">2</span><span class="p">),</span>
        <span class="p">((</span><span class="o">.</span><span class="mi">09</span><span class="p">,</span> <span class="o">.</span><span class="mi">98</span><span class="p">,</span> <span class="mf">0.91</span><span class="p">),</span> <span class="o">.</span><span class="mi">39</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.61</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.38</span><span class="p">),</span> <span class="o">.</span><span class="mi">53</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">.</span><span class="mi">66</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">.</span><span class="mi">85</span><span class="p">),</span>
        <span class="p">((</span><span class="o">.</span><span class="mi">61</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)]</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_dynamic_cmyk_hymex"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_dynamic_cmyk_hymex">[docs]</a><span class="k">def</span> <span class="nf">cmap_dynamic_cmyk_hymex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_dynamic_cmyk_hymex&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;DYNAMIC_CMYK Colormap for HYMEX</span>

<span class="sd">    .. note:: This colormap is registered in matplotlib under the name &quot;vacumm_dynamic_cmyk_hymex&quot;.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_dynamic_cmyk_hymex.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">((</span><span class="mf">0.94902</span><span class="p">,</span> <span class="mf">0.94510</span><span class="p">,</span> <span class="mf">0.94902</span><span class="p">),</span> <span class="mf">0.</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.94510</span><span class="p">,</span> <span class="mf">0.88627</span><span class="p">,</span> <span class="mf">0.94118</span><span class="p">),</span> <span class="o">.</span><span class="mi">1</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.69804</span><span class="p">,</span> <span class="mf">0.62745</span><span class="p">,</span> <span class="mf">0.80392</span><span class="p">),</span> <span class="o">.</span><span class="mi">2</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.50196</span><span class="p">,</span> <span class="mf">0.65098</span><span class="p">,</span> <span class="mf">0.80784</span><span class="p">),</span> <span class="o">.</span><span class="mi">3</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.40392</span><span class="p">,</span> <span class="mf">0.75686</span><span class="p">,</span> <span class="mf">0.60784</span><span class="p">),</span> <span class="o">.</span><span class="mi">4</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.33725</span><span class="p">,</span> <span class="mf">0.69412</span><span class="p">,</span> <span class="mf">0.20000</span><span class="p">),</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.80000</span><span class="p">,</span> <span class="mf">0.90588</span><span class="p">,</span> <span class="mf">0.04314</span><span class="p">),</span> <span class="o">.</span><span class="mi">6</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.98039</span><span class="p">,</span> <span class="mf">0.96078</span><span class="p">,</span> <span class="mf">0.09804</span><span class="p">),</span> <span class="o">.</span><span class="mi">7</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.97255</span><span class="p">,</span> <span class="mf">0.50980</span><span class="p">,</span> <span class="mf">0.06667</span><span class="p">),</span> <span class="o">.</span><span class="mi">8</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.98039</span><span class="p">,</span> <span class="mf">0.07059</span><span class="p">,</span> <span class="mf">0.04706</span><span class="p">),</span> <span class="o">.</span><span class="mi">9</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.59608</span><span class="p">,</span> <span class="mf">0.05882</span><span class="p">,</span> <span class="mf">0.03137</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)]</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_white_centered_hymex"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_white_centered_hymex">[docs]</a><span class="k">def</span> <span class="nf">cmap_white_centered_hymex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_white_centered_hymex&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;RNB2 Colormap for HYMEX</span>

<span class="sd">    .. note:: This colormap is registered in matplotlib under the name &quot;vacumm_white_centered_hymex&quot;.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_white_centered_hymex.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mf">0.</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">2</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">35</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="o">.</span><span class="mi">65</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">),</span> <span class="o">.</span><span class="mi">8</span><span class="p">),</span>
        <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)]</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>

<div class="viewcode-block" id="cmap_red_tau_hymex"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_red_tau_hymex">[docs]</a><span class="k">def</span> <span class="nf">cmap_red_tau_hymex</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;vacumm_red_tau_hymex&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;RNB2 Colormap for HYMEX</span>

<span class="sd">    .. note:: This colormap is registered in matplotlib under the name &quot;vacumm_red_tau_hymex&quot;.</span>

<span class="sd">    :Sample: .. image:: misc-color-vacumm_red_tau_hymex.png</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="mf">0.</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">),</span> <span class="o">.</span><span class="mi">2</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span><span class="mf">0.05</span><span class="p">),</span> <span class="o">.</span><span class="mi">4</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="o">.</span><span class="mi">6</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="o">.</span><span class="mi">9</span><span class="p">),</span>
        <span class="p">((</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">),</span> <span class="mf">1.</span><span class="p">)]</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_smoothed_steps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_under</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">cmap</span><span class="o">.</span><span class="n">set_over</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cmap</span></div>


<div class="viewcode-block" id="get_cmap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.get_cmap">[docs]</a><span class="k">def</span> <span class="nf">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">errmode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A simple way to get a VACUMM, GMT or MPL colormap</span>

<span class="sd">    :Example:</span>

<span class="sd">        &gt;&gt;&gt; get_cmap(&#39;jet&#39;)         # Matplotlib</span>
<span class="sd">        &gt;&gt;&gt; pylab.jet()             # Matplotlib</span>
<span class="sd">        &gt;&gt;&gt; pylab.get_cmap(&#39;jet&#39;)   # Matplotlib</span>
<span class="sd">        &gt;&gt;&gt; get_cmap(&#39;cmap_grey&#39;,start=.2)   # VACUMM</span>
<span class="sd">        &gt;&gt;&gt; get_cmap(&#39;vacumm_grey&#39;)   # VACUMM (registered in MPL)</span>
<span class="sd">        &gt;&gt;&gt; cmap_grey(start=.2)     # VACUMM</span>
<span class="sd">        &gt;&gt;&gt; get_cmap(&#39;gmt_gebco&#39;)   # GMT (registered in MPL)</span>
<span class="sd">        &gt;&gt;&gt; cmap_gmt(&#39;gebco&#39;)       # GMT (registered in MPL)</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmap_gmt` :func:`matplotlib.pyplot.get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">Colormap</span><span class="p">):</span>
       <span class="k">return</span> <span class="n">cmap</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span> <span class="c1"># Try an already registered colormap</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">if</span> <span class="n">cmap</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;cmap_&#39;</span><span class="p">):</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">cmap</span><span class="p">)(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">cmap</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;gmt_&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cmap</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.cpt&#39;</span><span class="p">):</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap_gmt</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="k">elif</span>  <span class="n">cmap</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;vacumm_&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;cmap_&#39;</span><span class="o">+</span><span class="n">cmap</span><span class="p">[</span><span class="mi">7</span><span class="p">:])(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">errmode</span><span class="o">==</span><span class="s1">&#39;raise&#39;</span><span class="p">:</span>
                <span class="n">cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">errmode</span><span class="o">==</span><span class="s1">&#39;warn&#39;</span><span class="p">:</span>
                        <span class="n">vacumm_warn</span><span class="p">(</span><span class="s1">&#39;Invalid colormap: </span><span class="si">{!s}</span><span class="s1">. Switch to default one&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmap</span><span class="p">))</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">()</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cmap</span></div>


<div class="viewcode-block" id="plot_cmap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.plot_cmap">[docs]</a><span class="k">def</span> <span class="nf">plot_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">smoothed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">),</span> <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=.</span><span class="mi">05</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title_loc</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">),</span>
        <span class="n">sa</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">left</span><span class="o">=.</span><span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=.</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">savefig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">savefigs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Display a colormap&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">vacumm.misc</span> <span class="k">import</span> <span class="n">kwfilter</span><span class="p">,</span> <span class="n">dict_check_defaults</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fig</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">figsize</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">figsize</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ncol</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ncol</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">N</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="mf">256.</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="mf">1.</span><span class="p">)</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">interp</span> <span class="o">=</span> <span class="s1">&#39;bilinear&#39;</span> <span class="k">if</span> <span class="n">smoothed</span> <span class="k">else</span> <span class="s2">&quot;nearest&quot;</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">x</span><span class="p">),</span> <span class="n">aspect</span><span class="o">=</span><span class="n">aspect</span><span class="o">*</span><span class="n">ncol</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span>
        <span class="n">interpolation</span><span class="o">=</span><span class="n">interp</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-.</span><span class="mi">5</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">ncol</span><span class="o">/</span><span class="mf">20.</span><span class="p">],</span> <span class="p">[</span><span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">facecolor</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">dx</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">ncol</span><span class="o">/</span><span class="mf">20.</span><span class="p">],</span> <span class="p">[</span><span class="o">-.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">facecolor</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="n">ncol</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">title</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">kwtitle</span> <span class="o">=</span> <span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;title_&#39;</span><span class="p">)</span>
        <span class="n">dict_check_defaults</span><span class="p">(</span><span class="n">kwtitle</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">8</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
            <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">title_loc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">title_loc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">kwtitle</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sa</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="o">**</span><span class="n">sa</span><span class="p">)</span>

    <span class="c1"># Save and show</span>
    <span class="k">if</span> <span class="n">savefig</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savefig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;savefig&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">savefigs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">plot</span> <span class="k">import</span> <span class="n">savefigs</span> <span class="k">as</span> <span class="n">Savefigs</span>
        <span class="n">Savefigs</span><span class="p">(</span><span class="n">savefigs</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;savefigs&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">show</span><span class="p">:</span>
        <span class="c1">#fig.show()</span>
        <span class="n">P</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">close</span><span class="p">:</span>
        <span class="n">P</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span></div>


<div class="viewcode-block" id="plot_cmaps"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.plot_cmaps">[docs]</a><span class="k">def</span> <span class="nf">plot_cmaps</span><span class="p">(</span><span class="n">cmaps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">savefig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">savefigs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Display a list of or all colormaps&quot;&quot;&quot;</span>

    <span class="kn">from</span> <span class="nn">vacumm.misc</span> <span class="k">import</span> <span class="n">kwfilter</span>
    <span class="n">kwsf</span> <span class="o">=</span> <span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;savefig&#39;</span><span class="p">)</span>
    <span class="n">kwsfs</span> <span class="o">=</span> <span class="n">kwfilter</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="s1">&#39;savefigs&#39;</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;nrow&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Default colormap list</span>
    <span class="kn">from</span> <span class="nn">vacumm.misc</span> <span class="k">import</span> <span class="n">kwfilter</span>
    <span class="k">if</span> <span class="n">cmaps</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">cmaps</span> <span class="o">=</span> <span class="n">cmaps_mpl</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmaps</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cmaps</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;vacumm&#39;</span><span class="p">):</span>
            <span class="n">cmaps</span> <span class="o">=</span> <span class="n">cmaps_vacumm</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">cmaps</span> <span class="o">==</span> <span class="s1">&#39;mpl&#39;</span><span class="p">:</span>
            <span class="n">cmaps</span> <span class="o">=</span> <span class="n">cmaps_mpl</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vacumm</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">cmaps</span> <span class="o">==</span> <span class="s1">&#39;gmt&#39;</span><span class="p">:</span>
            <span class="n">cmaps</span> <span class="o">=</span> <span class="n">cmaps_gmt</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmaps</span> <span class="o">=</span> <span class="p">[</span><span class="n">cmaps</span><span class="p">]</span>

    <span class="c1"># Check validity</span>
    <span class="n">goodcmaps</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">cmap</span> <span class="ow">in</span> <span class="n">cmaps</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cmap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">goodcmaps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">continue</span>
    <span class="n">cmaps</span> <span class="o">=</span> <span class="n">goodcmaps</span>

    <span class="c1"># Uniq</span>
    <span class="n">oldcmaps</span> <span class="o">=</span> <span class="n">cmaps</span>
    <span class="n">cmaps</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">cmap</span> <span class="ow">in</span> <span class="n">oldcmaps</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cmap</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="n">cmaps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
            <span class="n">names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cmap</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ncmap</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmaps</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">ncmap</span><span class="p">,</span> <span class="s1">&#39;No valid cmap&#39;</span>

    <span class="c1"># Sort</span>
    <span class="n">cmaps</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="nb">cmp</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">cmp</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

    <span class="c1"># Setup figure</span>
    <span class="k">if</span> <span class="n">fig</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">ncol</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ncmap</span><span class="p">,</span> <span class="n">ncol</span><span class="p">)</span>
    <span class="n">nrow</span> <span class="o">=</span> <span class="p">(</span><span class="n">ncmap</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">ncol</span><span class="o">+</span><span class="mi">1</span>
<span class="c1">#    nrow = min(ncmap, nrow)</span>
<span class="c1">#    ncol = (ncmap-1)/nrow+1</span>
    <span class="k">if</span> <span class="n">N</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">figsize</span><span class="p">):</span>
        <span class="n">figwidth</span> <span class="o">=</span> <span class="n">figsize</span>
        <span class="n">figsize</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">figwidth</span> <span class="o">=</span> <span class="mf">6.</span>
    <span class="k">if</span> <span class="n">figsize</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">onecol</span> <span class="o">=</span> <span class="n">figwidth</span> <span class="o">/</span> <span class="n">ncol</span>
        <span class="n">onerow</span> <span class="o">=</span> <span class="n">figwidth</span> <span class="o">*</span> <span class="n">aspect</span> <span class="o">*</span> <span class="o">.</span><span class="mi">8</span>
        <span class="n">figheight</span> <span class="o">=</span> <span class="n">onerow</span> <span class="o">*</span> <span class="n">nrow</span>
        <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="n">figwidth</span><span class="p">,</span> <span class="n">figheight</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">figsize</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">figsize</span><span class="p">,</span> <span class="n">forward</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Loop on colormaps</span>
    <span class="n">ip</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">ncol</span><span class="o">*</span><span class="n">nrow</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">cmap</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cmaps</span><span class="p">):</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">nrow</span><span class="p">,</span> <span class="n">ncol</span><span class="p">,</span> <span class="n">ip</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">plot_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">aspect</span><span class="o">=</span><span class="n">aspect</span><span class="p">,</span> <span class="n">close</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">title_loc</span><span class="o">=</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">title_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_anchor</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>
<span class="c1">#    fig.tight_layout(pad=0, h_pad=0, w_pad=0)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mf">0.98</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mf">0.98</span><span class="p">)</span>

    <span class="c1"># Save and show</span>
    <span class="k">if</span> <span class="n">savefig</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">P</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">savefig</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwsf</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">savefigs</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">plot</span> <span class="k">import</span> <span class="n">savefigs</span> <span class="k">as</span> <span class="n">_savefigs</span>
        <span class="n">_savefigs</span><span class="p">(</span><span class="n">savefigs</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="o">**</span><span class="n">kwsfs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show</span><span class="p">:</span> <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">close</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span></div>

<div class="viewcode-block" id="show_cmap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.show_cmap">[docs]</a><span class="k">def</span> <span class="nf">show_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Alias for :func:`plot_cmap`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">plot_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmaps_registered"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmaps_registered">[docs]</a><span class="k">def</span> <span class="nf">cmaps_registered</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;List colormap registered in matplotlib</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **include**: Include only colormaps that have one of these prefixes.</span>
<span class="sd">        - **include**: Exclude colormaps that have one of these prefixes.</span>
<span class="sd">        - **names**: Return names OR colormaps.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cmap_names</span> <span class="o">=</span> <span class="n">cmap_d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="n">cmap_names</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">include</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">include</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span> <span class="n">include</span> <span class="o">=</span> <span class="p">[</span><span class="n">include</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">exclude</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exclude</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span> <span class="n">exclude</span> <span class="o">=</span> <span class="p">[</span><span class="n">exclude</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">inc</span> <span class="ow">in</span> <span class="n">include</span><span class="p">:</span>
        <span class="n">cmap_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">cmap_names</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">inc</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">exc</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">:</span>
        <span class="n">cmap_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">cmap_names</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">exc</span><span class="p">)]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">names</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">cmap_d</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">cmap_names</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">cmap_names</span></div>

<div class="viewcode-block" id="cmaps_mpl"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmaps_mpl">[docs]</a><span class="k">def</span> <span class="nf">cmaps_mpl</span><span class="p">(</span><span class="n">vacumm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">gmt</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;List available registered colormaps available directly from Matplotlib</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">vacumm</span><span class="p">:</span> <span class="n">exclude</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;vacumm_&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">gmt</span><span class="p">:</span> <span class="n">exclude</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;GMT_&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cmaps_registered</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="n">exclude</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span></div>

<div class="viewcode-block" id="cmaps_vacumm"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmaps_vacumm">[docs]</a><span class="k">def</span> <span class="nf">cmaps_vacumm</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;List available VACUMM colormaps</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmaps_registered</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;vacumm_&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span></div>
<span class="n">cmaps_act</span> <span class="o">=</span> <span class="n">cmaps_vacumm</span>

<div class="viewcode-block" id="cmaps_gmt"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmaps_gmt">[docs]</a><span class="k">def</span> <span class="nf">cmaps_gmt</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;List available GMT colormaps</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmap_gmt` :func:`print_cmaps_gmt` :func:`get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">cmaps_registered</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;GMT_&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span></div>

<div class="viewcode-block" id="print_cmaps_gmt"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.print_cmaps_gmt">[docs]</a><span class="k">def</span> <span class="nf">print_cmaps_gmt</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;List available gmt colormaps</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmap_gmt` :func:`cmaps_gmt` :func:`get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span> <span class="s1">&#39;List of available GMT colormaps: &#39;</span><span class="o">+</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cmaps_gmt</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span></div>

<span class="n">_re_split_gmt</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[\t/\-]+&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span>
<div class="viewcode-block" id="cmap_gmt"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.cmap_gmt">[docs]</a><span class="k">def</span> <span class="nf">cmap_gmt</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">register</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a colormap from GMT</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **name**: GMT colormap name OR .cpt file name.</span>

<span class="sd">    :See also:</span>

<span class="sd">        :func:`cmaps_gmt` :func:`print_cmaps_gmt` :func:`get_cmap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Already registered</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.cpt&#39;</span><span class="p">):</span>

<span class="c1">#        name = name.lower()</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;gmt_&#39;</span><span class="p">):</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;GMT_&#39;</span><span class="o">+</span><span class="n">name</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>
        <span class="n">mname</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;GMT_&#39;</span><span class="o">+</span><span class="n">name</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;GMT_&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">name</span>
        <span class="k">if</span> <span class="n">mname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmaps_gmt</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">vacumm</span><span class="o">.</span><span class="n">VACUMMError</span><span class="p">(</span><span class="s1">&#39;Invalid GMT colormap: </span><span class="si">%s</span><span class="s1">. &#39;</span><span class="o">%</span><span class="n">name</span> <span class="o">+</span>
                <span class="s1">&#39;Please print available name with: print_cmaps_gmt()&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">mname</span><span class="p">)</span>

    <span class="c1"># From file</span>
    <span class="kn">import</span> <span class="nn">colorsys</span>
    <span class="n">filePath</span> <span class="o">=</span> <span class="n">name</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">name</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">])</span><span class="c1">#.lower()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">filePath</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">vacumm</span><span class="o">.</span><span class="n">VACUMMError</span><span class="p">(</span><span class="s2">&quot;Wrong GMT colormap file: &quot;</span><span class="o">+</span><span class="n">filePath</span><span class="p">)</span>

    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">colorModel</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">ls</span> <span class="o">=</span> <span class="n">_re_split_gmt</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="c1">#        ls = l.split()</span>
        <span class="k">if</span> <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
                <span class="n">colorModel</span> <span class="o">=</span> <span class="s2">&quot;HSV&quot;</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>
        <span class="k">if</span> <span class="n">ls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;B&quot;</span> <span class="ow">or</span> <span class="n">ls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;F&quot;</span> <span class="ow">or</span> <span class="n">ls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;N&quot;</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">ls</span><span class="p">)</span><span class="o">==</span><span class="mi">8</span><span class="p">:</span>
            <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
            <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
            <span class="n">xtemp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">rtemp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
            <span class="n">gtemp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
            <span class="n">btemp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
<span class="c1">#        else:</span>
<span class="c1">#            return</span>


    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xtemp</span><span class="p">)</span>
    <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rtemp</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gtemp</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">btemp</span><span class="p">)</span>

    <span class="n">nTable</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="n">x</span> <span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="n">r</span> <span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="n">g</span> <span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span> <span class="n">b</span> <span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">colorModel</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">rr</span><span class="p">,</span><span class="n">gg</span><span class="p">,</span><span class="n">bb</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="mf">360.</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span> <span class="p">;</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">gg</span> <span class="p">;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">bb</span>
    <span class="k">if</span> <span class="n">colorModel</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">rr</span><span class="p">,</span><span class="n">gg</span><span class="p">,</span><span class="n">bb</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="mf">360.</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rr</span> <span class="p">;</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">gg</span> <span class="p">;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">bb</span>
    <span class="k">if</span> <span class="n">colorModel</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">r</span><span class="o">/</span><span class="mf">255.</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">/</span><span class="mf">255.</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="o">/</span><span class="mf">255.</span>
    <span class="n">xNorm</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">red</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">blue</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">green</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
        <span class="n">red</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">xNorm</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
        <span class="n">green</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">xNorm</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
        <span class="n">blue</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">xNorm</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
    <span class="n">colorDict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;red&quot;</span><span class="p">:</span><span class="n">red</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">:</span><span class="n">green</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">:</span><span class="n">blue</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">register</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">register</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span> <span class="n">name</span> <span class="o">=</span> <span class="n">register</span>
    <span class="k">return</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">colorDict</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">register</span><span class="o">=</span><span class="n">register</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>



<span class="k">def</span> <span class="nf">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

    <span class="c1"># Colormap case</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">Colormap</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;_lut&#39;</span><span class="p">):</span>
            <span class="n">c</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">_lut</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">_lut</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="p">:</span><span class="mi">3</span><span class="p">],</span> <span class="n">converter</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">att</span> <span class="ow">in</span> <span class="s1">&#39;_under&#39;</span><span class="p">,</span> <span class="s1">&#39;_over&#39;</span><span class="p">,</span> <span class="s1">&#39;_bad&#39;</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;_rgba&#39;</span><span class="o">+</span><span class="n">att</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fset</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span><span class="o">+</span><span class="n">att</span><span class="p">)</span>
                <span class="n">fset</span><span class="p">(</span><span class="n">_generic_transform_</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">col</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">))</span>
        <span class="k">return</span> <span class="n">c</span>

    <span class="c1"># Get RGB</span>
    <span class="n">with_hsv</span> <span class="o">=</span> <span class="s1">&#39;h&#39;</span> <span class="ow">in</span> <span class="n">channels</span> <span class="ow">or</span> <span class="s1">&#39;s&#39;</span> <span class="ow">in</span> <span class="n">channels</span> <span class="ow">or</span> <span class="s1">&#39;v&#39;</span> <span class="ow">in</span> <span class="n">channels</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">N</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span> <span class="c1"># array</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">c</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">c</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">with_hsv</span><span class="p">:</span>
            <span class="n">hsv</span> <span class="o">=</span> <span class="n">rgb_to_hsv</span><span class="p">(</span><span class="n">c</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">3</span><span class="p">])</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">hsv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">hsv</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">hsv</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>
            <span class="n">back_to_rgb</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="n">hsv_to_rgb</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">)[:,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="n">RGBA</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">with_hsv</span><span class="p">:</span>
            <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">rgb_to_hsv</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
            <span class="n">back_to_rgb</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="n">hsv_to_rgb</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>

    <span class="c1"># Convert channels</span>
    <span class="n">conv</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">converter</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;r&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;g&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">with_hsv</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;h&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;s&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;v&#39;</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">conv</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">back_to_rgb</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">N</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">c</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
        <span class="n">c</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
        <span class="n">c</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">_pull_toward_value_</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Move toward a value</span>

<span class="sd">    No effect with f=0</span>
<span class="sd">    Max effect with f=1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">v</span> <span class="o">-</span> <span class="p">(</span><span class="n">v</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">f</span><span class="p">)</span>


<div class="viewcode-block" id="darken"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.darken">[docs]</a><span class="k">def</span> <span class="nf">darken</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Darken a color &#39;c&#39; by a factor &#39;f&#39; (max when f=1)</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color</span>
<span class="sd">        - **f**: Factor between 0 and 1 with null impact at 0</span>

<span class="sd">    :Sample:</span>

<span class="sd">        &gt;&gt;&gt; darken(&#39;r&#39;,0)</span>
<span class="sd">        (1.0, 0.0, 0.0)</span>
<span class="sd">        &gt;&gt;&gt; darken(&#39;r&#39;,.5)</span>
<span class="sd">        (0.5, 0.0, 0.0)</span>

<span class="sd">    :See also: :func:`whiten`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">converter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">_pull_toward_value_</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="whiten"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.whiten">[docs]</a><span class="k">def</span> <span class="nf">whiten</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Whiten a color &#39;c&#39; by a factor &#39;f&#39; (max when f=1)</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color</span>
<span class="sd">        - **f**: Factor between 0 and 1 with null impact at 0</span>

<span class="sd">    :Sample:</span>

<span class="sd">        &gt;&gt;&gt; whiten(&#39;r&#39;,.5)</span>
<span class="sd">        (1.0, 0.5, 0.5)</span>
<span class="sd">        &gt;&gt;&gt; whiten(&#39;r&#39;,0)</span>
<span class="sd">        (1.0, 0.0, 0.0)</span>

<span class="sd">    :See also: :func:`darken`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">converter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">_pull_toward_value_</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="change_luminosity"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.change_luminosity">[docs]</a><span class="k">def</span> <span class="nf">change_luminosity</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change the luminosity</span>

<span class="sd">    :Params:</span>
<span class="sd">        - **c**: color</span>
<span class="sd">        - **f**: Factor between 0 and 1 with null impact at 0.5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">==</span><span class="mf">0.5</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="n">f</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">f</span><span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">whiten</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">darken</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="to_shadow"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.to_shadow">[docs]</a><span class="k">def</span> <span class="nf">to_shadow</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">att</span><span class="o">=.</span><span class="mi">3</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the shadow color of a color</span>

<span class="sd">    .. note::</span>

<span class="sd">        This is a simple shortcut to :func:`darken`</span>
<span class="sd">        with ``f=.3`` be default.</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color.</span>
<span class="sd">        - **att**, optional: Attenuation factor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">darken</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">att</span><span class="p">)</span></div>

<div class="viewcode-block" id="to_grey"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.to_grey">[docs]</a><span class="k">def</span> <span class="nf">to_grey</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="o">=.</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pull a color toward a single grey vzlue</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color</span>
<span class="sd">        - **f**: Factor between 0 and 1.</span>
<span class="sd">          When max, color is converted to medium grey (&quot;0.5&quot;).</span>
<span class="sd">        - **g**: Value of the grey</span>

<span class="sd">    :Sample:</span>

<span class="sd">        &gt;&gt;&gt; to_grey(&#39;r&#39;, 0)</span>
<span class="sd">        (1.0, 0.0, 0.0)</span>
<span class="sd">        &gt;&gt;&gt; to_grey(&#39;r&#39;,1)</span>
<span class="sd">        (0.5, 0.5, 0.5)</span>

<span class="sd">    :See also: :func:`whiten` : :func:`darken`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">converter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">:</span> <span class="n">_pull_toward_value_</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="s1">&#39;rgb&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span></div>

<div class="viewcode-block" id="saturate"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.saturate">[docs]</a><span class="k">def</span> <span class="nf">saturate</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saturate a color or a colormap&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">_pull_toward_value_</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></div>
<div class="viewcode-block" id="desaturate"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.desaturate">[docs]</a><span class="k">def</span> <span class="nf">desaturate</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Desaturate a color or a colormap&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">_pull_toward_value_</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="change_saturation"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.change_saturation">[docs]</a><span class="k">def</span> <span class="nf">change_saturation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change the saturation in HSV mode</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color</span>
<span class="sd">        - **f**: Factor between 0 and 1. Null effect at 0.5.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">f</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">f</span><span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">saturate</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">desaturate</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="n">f</span><span class="p">)</span></div>

<div class="viewcode-block" id="change_value"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.change_value">[docs]</a><span class="k">def</span> <span class="nf">change_value</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Change de value in HSV mode</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **c**: Color</span>
<span class="sd">        - **f**: Factor between 0 and 1. Null effect at 0.5.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">&gt;.</span><span class="mi">5</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">_pull_toward_value_</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">f</span><span class="o">-.</span><span class="mi">5</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_generic_transform_</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">_pull_toward_value_</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">f</span><span class="o">-.</span><span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="pastelise"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.pastelise">[docs]</a><span class="k">def</span> <span class="nf">pastelise</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="o">=.</span><span class="mi">25</span><span class="p">,</span> <span class="n">v</span><span class="o">=.</span><span class="mi">9</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make a color more pastel</span>

<span class="sd">    Equivalent to::</span>

<span class="sd">        &gt;&gt;&gt; c = change_value(c, v)</span>
<span class="sd">        &gt;&gt;&gt; c = change_saturation(c, s)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">change_value</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">change_saturation</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span></div>
<span class="n">pastelize</span> <span class="o">=</span> <span class="n">pastelise</span>

<div class="viewcode-block" id="StepsNorm"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.StepsNorm">[docs]</a><span class="k">class</span> <span class="nc">StepsNorm</span><span class="p">(</span><span class="n">Normalize</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Normalize a given value to the 0-1 range on a stepped linear or log scale</span>

<span class="sd">    See tutorial :ref:`user.tut.misc.plot.advanced.stepsnorm`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">levels</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">masked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">levels</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">levels</span><span class="p">)</span>
        <span class="n">Normalize</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span> <span class="o">=</span> <span class="n">levels</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vmax</span> <span class="o">=</span> <span class="n">levels</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">levels</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">levels</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmax</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">positions</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">log</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmax</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;minvalue must be less than or equal to maxvalue&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span> <span class="o">&lt;=</span> <span class="mf">0.</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;minvalue must be greater than 0 when using log scale&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_masked</span> <span class="o">=</span> <span class="n">masked</span>


<div class="viewcode-block" id="StepsNorm.process_value"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.StepsNorm.process_value">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">process_value</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Homogenize the input *value* for easy and efficient normalization.</span>

<span class="sd">        *value* can be a scalar or sequence.</span>

<span class="sd">        Returns *result*, *is_scalar*, where *result* is a</span>
<span class="sd">        masked array matching *value*.  Float dtypes are preserved;</span>
<span class="sd">        integer types with two bytes or smaller are converted to</span>
<span class="sd">        N.float32, and larger types are converted to N.float.</span>
<span class="sd">        Preserving float32 when possible, and using in-place operations,</span>
<span class="sd">        can greatly improve speed for large arrays.</span>

<span class="sd">        Experimental; we may want to add an option to force the</span>
<span class="sd">        use of float32.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cbook</span><span class="o">.</span><span class="n">iterable</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">is_scalar</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">N</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">result</span><span class="o">.</span><span class="n">dtype</span><span class="o">.</span><span class="n">itemsize</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">is_scalar</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">value</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">is_scalar</span></div>


    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">clip</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">clip</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">clip</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clip</span>

        <span class="n">result</span><span class="p">,</span> <span class="n">is_scalar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_value</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">autoscale_None</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmax</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">getmaskarray</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

        <span class="c1"># if theses 4 lines are not present, color of the 2D scalar field</span>
        <span class="c1"># in map2 is black for the values whose range is over the max value in colorbar</span>
<span class="c1">#        if cbook.iterable(value):</span>
<span class="c1">#            val = N.asarray(value).astype(N.float)</span>
<span class="c1">#        else:</span>
<span class="c1">#            val = N.array([value]).astype(N.float)</span>
        <span class="c1">#</span>

        <span class="k">if</span> <span class="n">vmin</span><span class="o">==</span><span class="n">vmax</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mf">0.</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">clip</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">filled</span><span class="p">(</span><span class="n">vmax</span><span class="p">),</span> <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">),</span>
                    <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="ow">and</span> <span class="n">N</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;All levels must be greater than 0 when using log scale&quot;</span><span class="p">)</span>
            <span class="n">nlev</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

            <span class="c1"># Inside</span>
            <span class="k">for</span> <span class="n">ilev</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">nlev</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="n">ilev</span><span class="p">:</span><span class="n">ilev</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="n">ilev</span><span class="p">:</span><span class="n">ilev</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                    <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                    <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
                <span class="n">mincheck</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span><span class="o">&gt;=</span><span class="n">lev0</span><span class="p">)</span> <span class="k">if</span> <span class="n">ilev</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="kc">True</span>
                <span class="n">maxcheck</span> <span class="o">=</span> <span class="p">(</span><span class="n">val</span><span class="o">&lt;=</span><span class="n">lev1</span><span class="p">)</span> <span class="k">if</span> <span class="n">ilev</span><span class="o">&lt;</span><span class="n">nlev</span><span class="o">-</span><span class="mi">2</span> <span class="k">else</span> <span class="kc">True</span>
                <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mincheck</span><span class="o">&amp;</span><span class="n">maxcheck</span><span class="p">,</span>
                    <span class="n">p0</span><span class="o">+</span><span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">val</span><span class="o">-</span><span class="n">lev0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">lev1</span><span class="o">-</span><span class="n">lev0</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>

            <span class="c1"># Above (linear extrapolation)</span>
            <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
            <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">val</span><span class="o">&gt;=</span><span class="n">lev1</span><span class="p">,</span> <span class="n">p1</span> <span class="o">+</span> <span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">val</span><span class="o">-</span><span class="n">lev1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">lev1</span><span class="o">-</span><span class="n">lev0</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">N</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">val</span><span class="p">)]</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">inf</span>

            <span class="c1"># Below (linear extrapolation)</span>
            <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">val</span><span class="o">&lt;</span><span class="n">lev0</span><span class="p">,</span> <span class="n">p0</span> <span class="o">+</span> <span class="p">(</span><span class="n">p0</span><span class="o">-</span><span class="n">p1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">val</span><span class="o">-</span><span class="n">lev0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">lev0</span><span class="o">-</span><span class="n">lev1</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">N</span><span class="o">.</span><span class="n">isneginf</span><span class="p">(</span><span class="n">val</span><span class="p">)]</span> <span class="o">=</span> <span class="o">-</span><span class="n">N</span><span class="o">.</span><span class="n">inf</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_masked</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked</span>

        <span class="k">if</span> <span class="n">is_scalar</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

<div class="viewcode-block" id="StepsNorm.inverse"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.StepsNorm.inverse">[docs]</a>    <span class="k">def</span> <span class="nf">inverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
        <span class="n">result</span><span class="p">,</span> <span class="n">is_scalar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_value</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">getmaskarray</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vmin</span><span class="o">==</span><span class="bp">self</span><span class="o">.</span><span class="n">vmax</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
<span class="c1">#            result = pos*0.</span>
<span class="c1">#            result[pos&lt;0] = self.vmin</span>
<span class="c1">#            result[pos&gt;1] = self.vmax</span>

            <span class="c1"># Inside</span>
            <span class="n">nlev</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ilev</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="n">ilev</span><span class="p">:</span><span class="n">ilev</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="n">ilev</span><span class="p">:</span><span class="n">ilev</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                    <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                    <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
                <span class="n">mincheck</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span><span class="o">&gt;=</span><span class="n">p0</span><span class="p">)</span> <span class="k">if</span> <span class="n">ilev</span> <span class="k">else</span> <span class="kc">True</span>
                <span class="n">maxcheck</span> <span class="o">=</span> <span class="p">(</span><span class="n">pos</span><span class="o">&lt;=</span><span class="n">p1</span><span class="p">)</span> <span class="k">if</span> <span class="n">ilev</span><span class="o">&lt;</span><span class="n">nlev</span><span class="o">-</span><span class="mi">2</span> <span class="k">else</span> <span class="kc">True</span>
                <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mincheck</span><span class="o">&amp;</span><span class="n">maxcheck</span><span class="p">,</span> <span class="n">lev0</span><span class="o">+</span><span class="p">(</span><span class="n">pos</span><span class="o">-</span><span class="n">p0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">lev1</span><span class="o">-</span><span class="n">lev0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p0</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

            <span class="c1"># Above (linear extrapolation)</span>
            <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
            <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">pos</span><span class="o">&gt;=</span><span class="n">p1</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">+</span> <span class="p">(</span><span class="n">lev1</span><span class="o">-</span><span class="n">lev0</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">-</span><span class="n">p1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p0</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">N</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">pos</span><span class="p">)]</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">inf</span>

            <span class="c1"># Below (linear extrapolation)</span>
            <span class="n">lev0</span><span class="p">,</span> <span class="n">lev1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">levels</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">p0</span><span class="p">,</span> <span class="n">p1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">positions</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="n">lev0</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev0</span><span class="p">)</span>
                <span class="n">lev1</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">lev1</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">ma</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">pos</span><span class="o">&lt;</span><span class="n">p0</span><span class="p">,</span> <span class="n">lev0</span> <span class="o">+</span> <span class="p">(</span><span class="n">lev0</span><span class="o">-</span><span class="n">lev1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">pos</span><span class="o">-</span><span class="n">p0</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">p0</span><span class="o">-</span><span class="n">p1</span><span class="p">),</span> <span class="n">result</span><span class="p">)</span>
            <span class="n">result</span><span class="p">[</span><span class="n">N</span><span class="o">.</span><span class="n">isneginf</span><span class="p">(</span><span class="n">pos</span><span class="p">)]</span> <span class="o">=</span> <span class="o">-</span><span class="n">N</span><span class="o">.</span><span class="n">inf</span>


        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_masked</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">masked</span>

        <span class="k">if</span> <span class="n">is_scalar</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span></div></div>


<div class="viewcode-block" id="RangedLinearSegmentedColormap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.RangedLinearSegmentedColormap">[docs]</a><span class="k">class</span> <span class="nc">RangedLinearSegmentedColormap</span><span class="p">(</span><span class="n">Colormap</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :See also:</span>

<span class="sd">        :class:`matplotlib.colors.LinearSegmentedColormap`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">segmentdata</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mf">1.</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">monochrome</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">Colormap</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_segmentdata</span> <span class="o">=</span> <span class="n">segmentdata</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stop</span> <span class="o">=</span> <span class="n">stop</span>

    <span class="k">def</span> <span class="nf">_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lut</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">N</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">N</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">)))</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">makeMappingArray</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_segmentdata</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">])</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">makeMappingArray</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_segmentdata</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">])</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">makeMappingArray</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_segmentdata</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">])</span>
        <span class="n">i0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="o">*</span><span class="n">n</span><span class="p">)</span>
        <span class="n">i1</span> <span class="o">=</span> <span class="n">i0</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">N</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lut</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lut</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lut</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">i0</span><span class="p">:</span><span class="n">i1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isinit</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_extremes</span><span class="p">()</span></div>

<div class="viewcode-block" id="Scalar2RGB"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.Scalar2RGB">[docs]</a><span class="k">class</span> <span class="nc">Scalar2RGB</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converter from scalar to colors</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **vminmax**: Either an array or a tuple of (min,max).</span>
<span class="sd">        - **cmap**, optional: A colormap.</span>

<span class="sd">    :Example:</span>

<span class="sd">        &gt;&gt;&gt; cmap = cmap_srs([&#39;b&#39;, &#39;r&#39;])</span>
<span class="sd">        &gt;&gt;&gt; c = Scalar2RGB((1.5, 20.6), cmap)</span>
<span class="sd">        &gt;&gt;&gt; print c(1.5, alpha=.5), c(10), c(20.6), c(50)</span>
<span class="sd">        (0.0,0.0,1.0,0.5) (0.38,0.0,0.61) (1.0,0.0,0.0) (1.0,0.0,0.0)</span>
<span class="sd">        &gt;&gt;&gt; print c([1.5,10])</span>
<span class="sd">        [[ 0.          0.          1.        ]</span>
<span class="sd">        [ 0.38627451  0.          0.61372549]]</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vminmax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap</span>
        <span class="kn">from</span> <span class="nn">genutil</span> <span class="k">import</span> <span class="n">minmax</span>
        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">minmax</span><span class="p">(</span><span class="n">vminmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">norm</span> <span class="o">=</span> <span class="n">Normalize</span><span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sm</span> <span class="o">=</span> <span class="n">ScalarMappable</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">norm</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert value to RGB(A)</span>

<span class="sd">        :Params:</span>

<span class="sd">            - **value**: A scalar or array.</span>
<span class="sd">            - **alpha**, optional: Add an alpha value to</span>
<span class="sd">              all colors.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">res</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">sm</span><span class="o">.</span><span class="n">to_rgba</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alpha</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">res</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span> <span class="k">return</span> <span class="n">res</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span></div>

<div class="viewcode-block" id="anamorph_cmap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.anamorph_cmap">[docs]</a><span class="k">def</span> <span class="nf">anamorph_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">transform</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Tranform a colormap with anamorphim</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **cmap**: Colormap.</span>
<span class="sd">        - **transform**: Sorted array of float between 0 and 1.</span>
<span class="sd">        - **name**: name of the colormap</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#  Input cmap</span>
    <span class="n">cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>

    <span class="c1"># Transform</span>
    <span class="n">transform</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">atleast_1d</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">transform</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">]</span> <span class="o">+</span> <span class="n">transform</span>
    <span class="k">if</span> <span class="n">transform</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">!=</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">1.</span><span class="p">)</span>

    <span class="c1"># First colors</span>
    <span class="n">segmentdata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;red&#39;</span><span class="p">:[],</span> <span class="s1">&#39;green&#39;</span><span class="p">:[],</span> <span class="s1">&#39;blue&#39;</span><span class="p">:[]}</span>

    <span class="c1"># Input segmentdata</span>
    <span class="n">input_segmentdata</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">_segmentdata</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">input_segmentdata</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">cname</span><span class="p">,</span> <span class="n">cfunc</span> <span class="ow">in</span> <span class="n">input_segmentdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">xind</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cmap</span><span class="o">.</span><span class="n">N</span><span class="p">)</span> <span class="o">**</span> <span class="n">cmap</span><span class="o">.</span><span class="n">_gamma</span>
            <span class="n">lut</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">N</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cfunc</span><span class="p">(</span><span class="n">xind</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">N</span><span class="o">.</span><span class="n">float</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">input_segmentdata</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">xi</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">xind</span><span class="p">):</span>
                <span class="n">input_segmentdata</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">xi</span><span class="p">,</span> <span class="n">lut</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">lut</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

    <span class="c1"># Loop on intervals</span>
    <span class="n">dxo</span> <span class="o">=</span> <span class="mf">1.</span><span class="o">/</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">xi0</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">transform</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">xi1</span> <span class="o">=</span> <span class="n">transform</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dxi</span> <span class="o">=</span> <span class="n">xi1</span><span class="o">-</span><span class="n">xi0</span>
        <span class="n">xo0</span> <span class="o">=</span> <span class="n">ii</span><span class="o">*</span><span class="n">dxo</span>
        <span class="n">xo1</span> <span class="o">=</span> <span class="p">(</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">dxo</span>
        <span class="k">for</span> <span class="n">cname</span><span class="p">,</span> <span class="n">cvals</span> <span class="ow">in</span> <span class="n">input_segmentdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">cval</span> <span class="ow">in</span> <span class="n">cvals</span><span class="p">:</span>
                <span class="n">xi</span> <span class="o">=</span> <span class="n">cval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">xi</span><span class="o">&lt;</span><span class="n">xi0</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">xi</span><span class="o">&gt;=</span><span class="n">xi1</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">xo</span> <span class="o">=</span> <span class="p">(</span><span class="n">xi</span><span class="o">-</span><span class="n">xi0</span><span class="p">)</span><span class="o">*</span><span class="n">dxo</span><span class="o">/</span><span class="n">dxi</span><span class="o">+</span><span class="n">xo0</span>
                <span class="n">segmentdata</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">xo</span><span class="p">,)</span><span class="o">+</span><span class="n">cval</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">col</span> <span class="o">=</span> <span class="n">cmap</span><span class="p">(</span><span class="n">xi1</span><span class="p">)[[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">cname</span><span class="p">)]</span>
                <span class="n">segmentdata</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">xo1</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">cname</span><span class="p">,</span> <span class="n">cval</span> <span class="ow">in</span> <span class="n">input_segmentdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">segmentdata</span><span class="p">[</span><span class="n">cname</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cval</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="c1"># Name</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">cmap</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;vacumm&#39;</span>
        <span class="n">name</span> <span class="o">+=</span> <span class="s1">&#39;_anamorph&#39;</span>

    <span class="c1"># Create it</span>
    <span class="n">cmapo</span> <span class="o">=</span> <span class="n">LinearSegmentedColormap</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">segmentdata</span><span class="p">,</span> <span class="n">cmap</span><span class="o">.</span><span class="n">N</span><span class="p">)</span>

    <span class="c1"># Register it</span>
    <span class="n">P</span><span class="o">.</span><span class="n">register_cmap</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">cmapo</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">cmapo</span></div>

<div class="viewcode-block" id="discretise_cmap"><a class="viewcode-back" href="../../../library/misc.color.html#vacumm.misc.color.discretise_cmap">[docs]</a><span class="k">def</span> <span class="nf">discretise_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Make discret an existing colormap</span>

<span class="sd">    :Examples:</span>

<span class="sd">        &gt;&gt;&gt; discretise_cmap(&#39;jet&#39;, [.25, .5, .9]) # two not evenly spaced colors</span>
<span class="sd">        &gt;&gt;&gt; discretise_cmap(&#39;jet&#39;, 10) # ten evenly spaced colors</span>

<span class="sd">    :Params:</span>

<span class="sd">        - **cmap**: Colormap.</span>
<span class="sd">        - **bounds**: An array of limits that will normalized.</span>
<span class="sd">          If a scalar, it is converted into an array of &#39;scalar&#39; values ranging</span>
<span class="sd">          from 0 to 1.</span>
<span class="sd">        - **name**, optional: Name of the colormap.</span>
<span class="sd">        - Other params are passed to :func:`cmap_custom`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">vcmq</span> <span class="k">import</span> <span class="n">P</span><span class="p">,</span> <span class="n">cmap_custom</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">plot_cmap</span>
    <span class="n">old_cmap</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">N</span><span class="o">.</span><span class="n">isscalar</span><span class="p">(</span><span class="n">bounds</span><span class="p">):</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">bounds</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">bounds</span><span class="p">)</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="p">(</span><span class="n">bounds</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">bounds</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">centers</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">bounds</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">old_cmap</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">centers</span><span class="p">]</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">ic</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
        <span class="n">data</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">color</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="n">ic</span><span class="p">]),</span> <span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">bounds</span><span class="p">[</span><span class="n">ic</span><span class="o">+</span><span class="mi">1</span><span class="p">])])</span>

    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">old_cmap</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s1">&#39;_discrete&#39;</span>
    <span class="n">new_cmap</span> <span class="o">=</span> <span class="n">cmap_custom</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_cmap</span></div>

<span class="n">discretize_cmap</span> <span class="o">=</span> <span class="n">discretise_cmap</span>

<span class="c1"># Register colormaps</span>
<span class="c1"># - vacumm</span>
<span class="n">cmap_bwr</span><span class="p">()</span>
<span class="n">cmap_bwre</span><span class="p">()</span>
<span class="n">cmap_br</span><span class="p">()</span>
<span class="n">cmap_br2</span><span class="p">()</span>
<span class="n">cmap_wr</span><span class="p">()</span>
<span class="n">cmap_wre</span><span class="p">()</span>
<span class="n">cmap_bathy</span><span class="p">()</span>
<span class="n">cmap_land</span><span class="p">()</span>
<span class="n">cmap_topo</span><span class="p">()</span>
<span class="n">cmap_jete</span><span class="p">()</span>
<span class="n">cmap_ajete</span><span class="p">()</span>
<span class="n">cmap_jet</span><span class="p">()</span>
<span class="n">cmap_jets</span><span class="p">()</span>
<span class="n">cmap_wjets</span><span class="p">()</span>
<span class="n">cmap_ajets</span><span class="p">()</span>
<span class="n">cmap_wjet</span><span class="p">()</span>
<span class="n">cmap_pe</span><span class="p">()</span>
<span class="n">cmap_grey</span><span class="p">()</span>
<span class="n">cmap_chla</span><span class="p">()</span>
<span class="n">cmap_previmer</span><span class="p">()</span>
<span class="n">cmap_previmer2</span><span class="p">()</span>
<span class="n">cmap_rnb2_hymex</span><span class="p">()</span>
<span class="n">cmap_rainbow_sst_hymex</span><span class="p">()</span>
<span class="n">cmap_dynamic_cmyk_hymex</span><span class="p">()</span>
<span class="n">cmap_white_centered_hymex</span><span class="p">()</span>
<span class="n">cmap_red_tau_hymex</span><span class="p">()</span>
<span class="n">cmap_ncview_rainbow</span><span class="p">()</span>
<span class="n">cmap_eke</span><span class="p">()</span>
<span class="n">cmap_currents</span><span class="p">()</span>
<span class="n">cmap_nice_gfdl</span><span class="p">()</span>
<span class="n">cmap_ssec</span><span class="p">()</span>
<span class="c1"># - basemap</span>
<span class="k">for</span> <span class="n">_name</span> <span class="ow">in</span> <span class="n">basemap_cm</span><span class="o">.</span><span class="n">datad</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="c1">#    sname = _name.lower() if _name.startswith(&#39;GMT_&#39;) else _name</span>
    <span class="n">_cmap</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">basemap_cm</span><span class="p">,</span> <span class="n">_name</span><span class="p">)</span>
    <span class="n">P</span><span class="o">.</span><span class="n">register_cmap</span><span class="p">(</span><span class="n">_name</span><span class="p">,</span> <span class="n">_cmap</span><span class="p">)</span>
<span class="k">del</span> <span class="n">_cmap</span><span class="p">,</span> <span class="n">_name</span>
<span class="c1"># - cmocean</span>
<span class="k">if</span> <span class="n">cmoceancm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">cmname</span> <span class="ow">in</span> <span class="n">cmoceancm</span><span class="o">.</span><span class="n">cmapnames</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;_r&#39;</span><span class="p">:</span>
            <span class="n">cmapname</span> <span class="o">=</span> <span class="n">cmname</span> <span class="o">+</span> <span class="n">suffix</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">cmoceancm</span><span class="p">,</span> <span class="n">cmapname</span><span class="p">)</span>
            <span class="n">P</span><span class="o">.</span><span class="n">register_cmap</span><span class="p">(</span><span class="s1">&#39;cmocean_&#39;</span> <span class="o">+</span> <span class="n">cmapname</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>
            <span class="n">P</span><span class="o">.</span><span class="n">register_cmap</span><span class="p">(</span><span class="n">cmapname</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>

<span class="c1">#: Colormap for posivite data</span>
<span class="n">CMAP_POSITIVE</span> <span class="o">=</span> <span class="s1">&#39;speed&#39;</span>

<span class="c1">#: Colormap for negative data</span>
<span class="n">CMAP_NEGATIVE</span> <span class="o">=</span> <span class="s1">&#39;tempo_r&#39;</span>

<span class="c1">#: Colomap for anomalies / symetric data</span>
<span class="n">CMAP_SYMETRIC</span> <span class="o">=</span> <span class="s1">&#39;balance&#39;</span>
<span class="n">CMAP_ANOMALY</span> <span class="o">=</span> <span class="n">CMAP_SYMETRIC</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Home</a>|&nbsp;</li>
        <li><a href="../../../contents.html">Docs</a>|&nbsp;</li>
        <li><a href="../../../user.faq.html">FAQ</a>|&nbsp;</li>
<!--         <li><a href="../../../search.html">chercher</a>|&nbsp;</li> -->
        <li><a href="../../../gallery.html">Gallery</a>|&nbsp;</li>
        <li><a href="https://forge.ifremer.fr/projects/vacumm">Forge</a>&nbsp; &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../vacumm.html" >vacumm</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2015, Actimar/IFREMER.
      Last updated on 21 Jan 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>